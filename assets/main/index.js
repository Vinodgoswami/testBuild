System.register("chunks:///_virtual/Tutorial.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./GameManager.ts"],(function(t){"use strict";var e,n,o,i,r,a,u,s,l,c,p,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.defineProperty,i=t.assertThisInitialized,r=t.initializerDefineProperty},function(t){a=t.cclegacy,u=t._decorator,s=t.Sprite,l=t.Label,c=t.Component},function(t){p=t.GameType},function(t){S=t.default}],execute:function(){var h,f,d,y,g,w,b,A,m;a._RF.push({},"01af0ymi/5F6o7feaDYSGyC","Tutorial",void 0);var D=u.ccclass,I=u.property;t("Tutorial",(h=D("Tutorial"),f=I(s),d=I(l),y=I(l),h((b=e((w=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return e=t.call.apply(t,[this].concat(a))||this,o(i(e),"dontShowStatus",0),r(i(e),"selected",b,i(e)),r(i(e),"tutorial1",A,i(e)),r(i(e),"tutorial3",m,i(e)),e}n(e,t);var a=e.prototype;return a.start=function(){this.dontShowStatus=S.getInstance().getDontShowPopupStatus(),S.getInstance().getGameType()==p.FOURPERDAY&&(this.tutorial1.string="CAN YOU WIN 4 IN ROW?\nTHE HIGHER SCORE WINS EACH HAND",this.tutorial3.string="IF YOU LOSE A HAND OR RUN OUT OF CARDS,\nA NEW GAME BEGINS(4 TRIES A DAY)")},a.nextBtnCB=function(t,e){this.node.removeFromParent(),S.getInstance().setDontShowPopupStatus(this.dontShowStatus)},a.dontShowBtnCB=function(t,e){this.dontShowStatus=1==this.dontShowStatus?0:1,this.selected.enabled=Boolean(this.dontShowStatus)},e}(c)).prototype,"selected",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(w.prototype,"tutorial1",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(w.prototype,"tutorial3",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=w))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/CardLayout.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./GameManager.ts"],(function(a){"use strict";var e,t,r,n,i,l,s,g,o,d,h,c,m,p,u,C,D,y,f,b,M;return{setters:[function(a){e=a.applyDecoratedDescriptor,t=a.inheritsLoose,r=a.initializerDefineProperty,n=a.assertThisInitialized,i=a.defineProperty},function(a){l=a.cclegacy,s=a._decorator,g=a.Node,o=a.Prefab,d=a.resources,h=a.JsonAsset,c=a.instantiate,m=a.Button,p=a.Sprite,u=a.LabelOutlineComponent,C=a.Color,D=a.Component},function(a){y=a.Game,f=a.PlayerType,b=a.PlayerWinningState},function(a){M=a.default}],execute:function(){var P,v,F,O,E,A,B,L,T,k,G,R,w,S,N;l._RF.push({},"1e3dfWtgDBGnK4Yya8wRHra","CardLayout",void 0);var H=s.ccclass,z=s.property;a("CardLayout",(P=H("CardLayout"),v=z({type:g}),F=z({type:g}),O=z({type:g}),E=z({type:g}),A=z(g),B=z(o),P((k=e((T=function(a){function e(){for(var e,t=arguments.length,l=new Array(t),s=0;s<t;s++)l[s]=arguments[s];return e=a.call.apply(a,[this].concat(l))||this,r(n(e),"playerBase",k,n(e)),r(n(e),"dealerBase",G,n(e)),r(n(e),"stand",R,n(e)),r(n(e),"gamePlay",w,n(e)),r(n(e),"cardbase",S,n(e)),r(n(e),"cardPrefab",N,n(e)),i(n(e),"cardData",[]),i(n(e),"gameManager",new M),i(n(e),"noOfGames",void 0),e}t(e,a);var l=e.prototype;return l.start=function(){var a=this;this.cardData=[];var e=this.gameManager.getGameName();this.noOfGames="7inRow"==e?y.SEVENINROW:y.FOURPERDAY,d.load(e+"Data",h,(function(e,t){a.cardData=t.json.Cards,a.updateCardUI()}))},l.updateCardUI=function(){for(var a=this,e=this.gameManager.getPlayerCardsData(),t=this.gameManager.getDealerCardsData(),r=this.gameManager.getCurrentHandData(),n=this.gameManager.getGameOverData(),i=this.gamePlay.getComponent("GamePlay"),l=this.playerBase.getComponent("PlayerBase"),s=this.dealerBase.getComponent("PlayerBase"),g=0;g<this.cardData.length;g++){var o,d,h,m,p,u,C=c(this.cardPrefab);this.cardbase.addChild(C),C.name=g+"";var D=this.cardData[g],y=C.getComponent("Card");y.setDelegate(l,s),y.setGamePlayDelegate(i);var f=this.checkInFlippedCards(D);o=f[0],m=f[1],u=f[2];var b=this.checkInDealerCards(D);d=b[0],h=b[1],p=b[2],o?(y.alreadyFlipped(m,u+"",!0),y.setCardFlip()):d?(y.alreadyFlipped(h,p+"",!1),y.setCardFlip()):y.updateCardType(D)}if((e[r].length<2||t[r].length<1)&&!n){this.gameManager.setStandData(!0);var M=0;this.schedule((function(){a.cardPicking(M++)}),1,2,.5)}},l.cardPicking=function(a){if(a%2)this.pickForDealerOrPlayer(f.DEALER);else if(this.pickForDealerOrPlayer(f.PLAYER),2==a){this.gameManager.setStandData(!1);var e=this.gamePlay.getComponent("GamePlay");this.gameManager.getTotalFlippedCardsData()>=this.cardData.length?e.gameOver(b.NOCARDSLEFT):this.gameManager.getClickableCardsData()>=28&&this.scheduleOnce(this.showAllDealerCards.bind(this,this.stand),1)}},l.pickForDealerOrPlayer=function(a){for(var e=this.gameManager.getTotalFlippedCardsData(),t=null;!t&&this.gameManager.getCounterData()<this.cardData.length;){var r=this.gameManager.getCardAlignmentData();(t=r[this.gameManager.getCounterData()]).used?t=null:t.used=!0,this.gameManager.setCounterData(this.gameManager.getCounterData()+1),this.gameManager.setCardAlignmentData(r)}if(e<this.cardData.length){for(var n,i=0;i<this.cardData.length;i++)if(this.cardData[i].type==t.type&&this.cardData[i].num==t.num){n=this.cardbase.getChildByName(i+"").getComponent("Card");break}return a==f.PLAYER?n.flipTheCard(0,.36,!0):n.flipTheCard(0,.36,!1),!1}return this.gamePlay.getComponent("GamePlay").gameOver(b.NOCARDSLEFT),!0},l.checkInFlippedCards=function(a){var e,t,r=this.gameManager.getPlayerCardsData(),n=!1;return r.forEach((function(r){r.forEach((function(r,i){r.type==a.type&&r.num==a.num&&(n=!0,e=r,t=i)}))})),[n,e,t]},l.checkInDealerCards=function(a){var e,t,r=this.gameManager.getDealerCardsData(),n=!1;return r.forEach((function(r){r.forEach((function(r,i){r.type==a.type&&r.num==a.num&&(n=!0,e=r,t=i)}))})),[n,e,t]},l.standBtnClick=function(a){this.showAllDealerCards(a.target)},l.showAllDealerCards=function(a){var e=this;this.playerBase.getComponent("PlayerBase").disableUndoHit();var t=this.gameManager.getCurrentHandData(),r=this.gamePlay.getComponent("GamePlay");r.setStandScheduler(!1),a.getComponent(m).enabled=!1,a.getComponent(p).grayscale=!0,a.getChildByName("Label").getComponent(u).color=new C(125,125,125,255),this.gameManager.setStandData(!0);var n=this.gameManager.getDealerCardsData();if(!this.pickForDealerOrPlayer(f.DEALER)){n=this.gameManager.getDealerCardsData();var i=0;n[t].forEach((function(a){i+=Number(a.num)})),i<=7&&this.gameManager.getTotalFlippedCardsData()<this.cardData.length?this.scheduleOnce((function(){e.pickForDealerOrPlayer(f.DEALER),e.gameManager.getTotalFlippedCardsData()>=e.cardData.length&&e.gameManager.getCurrentHandData()<e.noOfGames-1?r.gameOver(b.NOCARDSLEFT):r.resetGame()}),1):i<=7&&this.gameManager.getTotalFlippedCardsData()>=this.cardData.length||this.gameManager.getTotalFlippedCardsData()>=this.cardData.length&&this.gameManager.getCurrentHandData()<this.noOfGames-1?r.gameOver(b.NOCARDSLEFT):r.resetGame()}},l.undoHit=function(a){var e=this.gameManager.getClickableCardsData(),t=this.gameManager.getPlayerCardsData(),r=this.gameManager.getTotalFlippedCardsData(),n=this.gameManager.getCurrentHandData(),i=t[n].pop();console.log(i);var l=this.gameManager.getCardAlignmentData();(l.forEach((function(a){a.type==i.type&&a.num==i.num&&(a.used=!1)})),this.gameManager.setCardAlignmentData(l),t[n].length<3)&&(a.target.getComponent(m).enabled=!1,a.target.getComponent(p).grayscale=!0,this.gamePlay.getComponent("GamePlay").setUndoHitScheduler(!1),a.target.getChildByName("Label").getComponent(u).color=new C(125,125,125,255));e--,r--,this.gameManager.setClickableCardsData(e),this.gameManager.setPlayerCardsData(t),this.gameManager.setTotalFlippedCardsData(r),this.cardbase.getChildByName(i.index+"").getComponent("Card").flipCardToOriginal(i,t[n].length)},e}(D)).prototype,"playerBase",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(T.prototype,"dealerBase",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(T.prototype,"stand",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(T.prototype,"gamePlay",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(T.prototype,"cardbase",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(T.prototype,"cardPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=T))||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/APAspectRatioFitter.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,o,r,s,h,a,p,c,d,u,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.createClass,o=t.initializerDefineProperty,r=t.assertThisInitialized,s=t.defineProperty},function(t){h=t.cclegacy,a=t._decorator,p=t.Sprite,c=t.Enum,d=t.Size,u=t.UITransform,g=t.Component}],execute:function(){var l,f,F,C,y,m,v,E,S;t("APAspectRatioFitType",void 0),h._RF.push({},"3130bJk9hpJlZHdw9EpUFH/","APAspectRatioFitter",void 0),function(t){t[t.None=0]="None",t[t.FitVertical=1]="FitVertical",t[t.FitHorizontal=2]="FitHorizontal",t[t.Envelope=3]="Envelope",t[t.FitInside=4]="FitInside",t[t.Stretch=5]="Stretch"}(S||(S=t("APAspectRatioFitType",{})));var z=t("ON_SPRITE_FRAME_CHANGED","OnSpriteFrameChanged"),A=(t("ON_LAYOUT_CHANGED","OnLayoutChanged"),a.ccclass),w=a.property,P=a.menu,_=a.executeInEditMode;t("APAspectRatioFitter",(l=P("Custom UI/Aspect Ratio Fitter"),f=w(p),F=w({type:c(S),serializable:!0,visible:!1}),C=w({type:c(S)}),A(y=l(y=_((v=e((m=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),h=0;h<i;h++)n[h]=arguments[h];return e=t.call.apply(t,[this].concat(n))||this,o(r(e),"sprite",v,r(e)),o(r(e),"_fitMode",E,r(e)),s(r(e),"editorFocus",!1),e}i(e,t);var h=e.prototype;return h.onLoad=function(){this.node&&(this.sprite=this.getComponent(p)),this.onSizeChanged(),this.node.parent.on("Node.EventType.SIZE_CHANGED",this.onSizeChanged,this),this.node.on(z,this.onSizeChanged,this)},h.onDestroy=function(){this.node&&(this.node.parent.off("Node.EventType.SIZE_CHANGED",this.onSizeChanged,this),this.node.off(z,this.onSizeChanged,this))},h.onFocusInEditor=function(){this.editorFocus=!0},h.onLostFocusInEditor=function(){this.editorFocus=!1},h.update=function(t){this.editorFocus&&this.onSizeChanged()},h.onSizeChanged=function(){if(null!==this.sprite){var t=this.sprite.spriteFrame.getOriginalSize();if(this.sprite.trim){var e=this.sprite.spriteFrame.getRect();t=new d(e.width,e.height)}var i=this.node.getParent().getComponent(u).width/t.width,n=this.node.getParent().getComponent(u).height/t.height,o=0,r=0;switch(this.fitMode){case S.Envelope:var s=Math.max(i,n);o=t.width*s,r=t.height*s;break;case S.FitVertical:r=this.node.getParent().getComponent(u).height,o=t.width*n;break;case S.FitHorizontal:o=this.node.getParent().getComponent(u).width,r=t.height*i;break;case S.FitInside:s=Math.min(i,n);o=t.width*s,r=t.height*s;break;case S.Stretch:o=this.node.getParent().getComponent(u).width,r=this.node.getParent().getComponent(u).height}this.node.getComponent(u).width=o,this.node.getComponent(u).height=r}},n(e,[{key:"fitMode",get:function(){return this._fitMode},set:function(t){this._fitMode=t,this.onSizeChanged()}}]),e}(g)).prototype,"sprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(m.prototype,"_fitMode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.Envelope}}),e(m.prototype,"fitMode",[C],Object.getOwnPropertyDescriptor(m.prototype,"fitMode"),m.prototype),y=m))||y)||y)||y));h._RF.pop()}}}));

System.register("chunks:///_virtual/Lost.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./Common.ts"],(function(e){"use strict";var t,n,i,o,a,r,c,s,l,u,p,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.defineProperty},function(e){r=e.cclegacy,c=e._decorator,s=e.Node,l=e.Label,u=e.Component},function(e){p=e.default},function(e){h=e.collectComponent}],execute:function(){var g,w,d,f,m,y,b,v,R;r._RF.push({},"3e31ddX7UxMg66FvkVYPcHW","Lost",void 0);var T=c.ccclass,O=c.property;e("Lost",(g=T("Lost"),w=O({type:s}),d=O({type:s}),f=O({type:s}),g((b=t((y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,i(o(t),"Time",b,o(t)),i(o(t),"Header",v,o(t)),i(o(t),"BtnLabel",R,o(t)),a(o(t),"flag",!0),t}n(t,e);var r=t.prototype;return r.start=function(){var e=p.getInstance().getGameName();h(this.BtnLabel,l).string="7inRow"==e?"4 per Day":"7 in Row",h(this.Header,l).string="7inRow"==e?"THAT'S 7 TRIES FOR TODAY.\nNEW DECK TOMORROW!":"THAT'S 4 TRIES FOR TODAY.\nNEW DECK TOMORROW!"},r.onCrossBtnClick=function(){this.node.active=!1},r.update=function(e){this.flag&&this.node.active&&(this.changeTime(),this.schedule(this.changeTime,1),this.flag=!1)},r.changeTime=function(){var e=new Date,t=/([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]/g,n=new Date(e.toString().replace(t,"23:59:59")),i=new Date(n.valueOf()-e.valueOf()).toISOString().match(t).toString();this.Time.getComponent(l).string=i},r.on4PerdayBtnClick=function(){var e;e="7inRow"===p.getInstance().getGameName()?encodeURI("http://www.4perday.com/"):encodeURI("http://www.7inRow.com/"),window.open(e,"_blank","location=yes,height=370,width=520,scrollbars=yes,status=yes")},r.on8OverBtnClick=function(){var e=encodeURI("http://www.8over.com/");window.open(e,"_blank","location=yes,height=370,width=520,scrollbars=yes,status=yes")},t}(u)).prototype,"Time",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(y.prototype,"Header",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(y.prototype,"BtnLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constant.ts"],(function(t){"use strict";var e,a,r,n,s,i,o,g,l;return{setters:[function(t){e=t.defineProperty},function(t){a=t.cclegacy,r=t._decorator,n=t.sys,s=t.resources,i=t.JsonAsset},function(t){o=t.GameState,g=t.GameType,l=t.GameName}],execute:function(){var u,m,c;a._RF.push({},"79354q0mr5EkZFArdyfrN5e","GameManager",void 0);var S=r.ccclass,N=(r.property,"Card_Alignment"),y="Clickable_Cards",D="Counter",f="Current_Date",h="Current_Day",C="Current_Game",p="Current_Game_State",O="Current_Hand",d="Dealer_Cards",I="Game_Over",J="Game_Won",K="Hands_Data",v="New_Date_Set",G="Player_Cards",_="Player_Statistics",P="Stand",w="Total_Flipped_Cards",T="DONT_SHOW_POPUP";t("default",S("GameManager")((c=m=function(){function t(){e(this,"gameType",g.SEVENINROW)}t.getInstance=function(){return t.instance||(t.instance=new t),t.instance};var a=t.prototype;return a.getKeyName=function(t){return t+this.getGameName()},a.setDontShowPopupStatus=function(t){n.localStorage.setItem(this.getKeyName(T),JSON.stringify(t))},a.getDontShowPopupStatus=function(){var t=JSON.parse(n.localStorage.getItem(this.getKeyName(T)));return null==t&&(t=0,this.setDontShowPopupStatus(t)),t},a.setCardAlignmentData=function(t){n.localStorage.setItem(this.getKeyName(N),JSON.stringify(t))},a.getCardAlignmentData=function(){var t=this,e=JSON.parse(n.localStorage.getItem(this.getKeyName(N)));if(null==e){var a=this.getCurrentDayData();return s.load(this.getGameName()+"CardsAlignment",i,(function(r,n){return e=n.json["Day_"+(a%40?a%40:40)],t.setCardAlignmentData(e),e}))}return e},a.setClickableCardsData=function(t){n.localStorage.setItem(this.getKeyName(y),JSON.stringify(t))},a.getClickableCardsData=function(){var t=JSON.parse(n.localStorage.getItem(this.getKeyName(y)));return null==t?(t=0,this.setClickableCardsData(t),t):t},a.setCounterData=function(t){n.localStorage.setItem(this.getKeyName(D),JSON.stringify(t))},a.getCounterData=function(){var t=JSON.parse(n.localStorage.getItem(this.getKeyName(D)));return null==t?(t=0,this.setCounterData(t),t):t},a.setCurrentDateData=function(t){n.localStorage.setItem(this.getKeyName(f),JSON.stringify(t))},a.getCurrentDateData=function(){var t=JSON.parse(n.localStorage.getItem(this.getKeyName(f)));return null==t?(t=new Date((new Date).toDateString()),this.setCurrentDateData(t),t):t},a.setCurrentDayData=function(t){n.localStorage.setItem(this.getKeyName(h),JSON.stringify(t))},a.getCurrentDayData=function(){var t=JSON.parse(n.localStorage.getItem(this.getKeyName(h)));if(null==t){var e=new Date(this.getCurrentDateData()),a=new Date("04/19/2022");return console.log(e),t=1+(e.getTime()-a.getTime())/864e5,this.setCurrentDayData(t),t}return t},a.setCurrentGameData=function(t){n.localStorage.setItem(this.getKeyName(C),JSON.stringify(t))},a.getCurrentGameData=function(){var t=JSON.parse(n.localStorage.getItem(this.getKeyName(C)));return null==t?(t=1,this.setCurrentGameData(t),t):t},a.setCurrentGameStateData=function(t){n.localStorage.setItem(this.getKeyName(p),JSON.stringify(t))},a.getCurrentGameStateData=function(){var t=JSON.parse(n.localStorage.getItem(this.getKeyName(p)));return null==t?(t=o.PENDING,this.setCurrentGameStateData(t),t):t},a.setCurrentHandData=function(t){n.localStorage.setItem(this.getKeyName(O),JSON.stringify(t))},a.getCurrentHandData=function(){var t=JSON.parse(n.localStorage.getItem(this.getKeyName(O)));return null==t?(t=0,this.setCurrentHandData(t),t):t},a.setDealerCardsData=function(t){n.localStorage.setItem(this.getKeyName(d),JSON.stringify(t))},a.getDealerCardsData=function(){var t=JSON.parse(n.localStorage.getItem(this.getKeyName(d)));return null==t?(t=[[]],this.setDealerCardsData(t),t):t},a.getGameType=function(){return this.gameType},a.getGameName=function(){return g.FOURPERDAY==this.gameType?l.FOURPERDAY:l.SEVENINROW},a.setGameOverData=function(t){n.localStorage.setItem(this.getKeyName(I),JSON.stringify(t))},a.getGameOverData=function(){var t=JSON.parse(n.localStorage.getItem(this.getKeyName(I)));return null==t?(t=!1,this.setGameOverData(t),t):t},a.setGameWonData=function(t){n.localStorage.setItem(this.getKeyName(J),JSON.stringify(t))},a.getGameWonData=function(){var t=JSON.parse(n.localStorage.getItem(this.getKeyName(J)));return null==t?(t=!1,this.setGameWonData(t),t):t},a.setHandsData=function(t){n.localStorage.setItem(this.getKeyName(K),JSON.stringify(t))},a.getHandsData=function(){var t=JSON.parse(n.localStorage.getItem(this.getKeyName(K)));return null==t?(t=[],this.setHandsData(t),t):t},a.setNewDateSet=function(t){n.localStorage.setItem(this.getKeyName(v),JSON.stringify(t))},a.getNewDateSet=function(){var t=JSON.parse(n.localStorage.getItem(this.getKeyName(v)));return null==t?(t=!1,this.setNewDateSet(t),t):t},a.setPlayerCardsData=function(t){n.localStorage.setItem(this.getKeyName(G),JSON.stringify(t))},a.getPlayerCardsData=function(){var t=JSON.parse(n.localStorage.getItem(this.getKeyName(G)));return null==t?(t=[[]],this.setPlayerCardsData(t),t):t},a.setPlayerStatistics=function(t){n.localStorage.setItem(this.getKeyName(_),JSON.stringify(t))},a.getPlayerStatistics=function(){var t=JSON.parse(n.localStorage.getItem(this.getKeyName(_)));return null==t?(t={currentStreak:0,maxStreak:0,gamesPlayed:0,gamesWon:0,winPercentage:0,guesses:{1:0,2:0,3:0,4:0,5:0,6:0,7:0,fail:0}},this.setPlayerStatistics(t),t):t},a.setStandData=function(t){n.localStorage.setItem(this.getKeyName(P),JSON.stringify(t))},a.getStandData=function(){var t=JSON.parse(n.localStorage.getItem(this.getKeyName(P)));return null==t?(t=!1,this.setStandData(t),t):t},a.setTotalFlippedCardsData=function(t){n.localStorage.setItem(this.getKeyName(w),JSON.stringify(t))},a.getTotalFlippedCardsData=function(){var t=JSON.parse(n.localStorage.getItem(this.getKeyName(w)));return null==t?(t=0,this.setTotalFlippedCardsData(t),t):t},t}(),e(m,"instance",void 0),u=c))||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/Congrats.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./GameManager.ts","./Common.ts"],(function(e){"use strict";var t,i,a,n,r,o,l,s,c,u,g,p,h,b,f,m,y,w,d,v,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.defineProperty},function(e){o=e.cclegacy,l=e._decorator,s=e.Node,c=e.Prefab,u=e.SpriteFrame,g=e.Label,p=e.UITransform,h=e.instantiate,b=e.Color,f=e.Sprite,m=e.sys,y=e.tween,w=e.Component},function(e){d=e.Game},function(e){v=e.default},function(e){S=e.collectComponent}],execute:function(){var D,C,R,N,P,k,B,T,z,M,E,I,O,W,G,L,U,F,x,_,H,A,V;o._RF.push({},"851f0RW62pNr7hN1AHSFZUE","Congrats",void 0);var Y=l.ccclass,j=l.property;e("Congrats",(D=Y("Congrats"),C=j({type:s}),R=j({type:s}),N=j({type:s}),P=j({type:s}),k=j({type:s}),B=j({type:s}),T=j({type:s}),z=j({type:c}),M=j({type:u,visible:function(){return this.WinBar.length=2,!0}}),E=j({type:s}),D((W=t((O=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,a(n(t),"Time",W,n(t)),a(n(t),"Played",G,n(t)),a(n(t),"CurrentStreak",L,n(t)),a(n(t),"WinPercentage",U,n(t)),a(n(t),"MaxStreak",F,n(t)),a(n(t),"BtnLabel",x,n(t)),a(n(t),"DistributionTable",_,n(t)),a(n(t),"DayDistribution",H,n(t)),a(n(t),"WinBar",A,n(t)),r(n(t),"flag",!0),r(n(t),"gameManager",new v),a(n(t),"clipboardNotification",V,n(t)),r(n(t),"noOfGames",void 0),t}i(t,e);var o=t.prototype;return o.start=function(){var e=v.getInstance().getGameName();console.log("Bye"),S(this.BtnLabel,g).string="7inRow"==e?"4 per Day":"7 in Row",this.noOfGames="7inRow"===e?d.SEVENINROW:d.FOURPERDAY,S(this.DistributionTable,p).height=this.noOfGames==d.SEVENINROW?300:200},o.update=function(e){this.flag&&this.node.active&&(this.setUpStatistics(),this.changeTime(),this.schedule(this.changeTime,1),this.flag=!1)},o.changeTime=function(){var e=new Date,t=/([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]/g,i=new Date(e.toString().replace(t,"23:59:59")),a=new Date(i.valueOf()-e.valueOf()).toISOString().match(t).toString();this.Time.getComponent(g).string=a},o.setUpStatistics=function(){var e=this.gameManager.getPlayerStatistics();S(this.Played,g).string=e.gamesPlayed,S(this.CurrentStreak,g).string=e.currentStreak,S(this.WinPercentage,g).string=e.winPercentage,S(this.MaxStreak,g).string=e.maxStreak,this.setUpDistributionTable()},o.setUpDistributionTable=function(){for(var e=this.gameManager.getPlayerStatistics(),t=1;t<=this.noOfGames;t++){var i=h(this.DayDistribution);S(i,g,"Label").string=t+"",i.name=t+"",this.DistributionTable.addChild(i);var a=i.getChildByName("Value");console.log("Hello"),S(a,g,"Label").string=e.guesses[t],e.guesses[t]?(S(a,g,"Label").color=new b(0,0,0),S(a,f).spriteFrame=this.WinBar[1]):(S(a,g,"Label").color=new b(255,255,255),S(a,f).spriteFrame=this.WinBar[0])}},o.onShareBtnClick=function(e){var t,i=this,a=this.gameManager.getCurrentDayData(),n=this.gameManager.getCurrentGameData(),r=this.gameManager.getHandsData(),o=(t="7inRow"===v.getInstance().getGameName()?"http://www.7inRow.com/":"http://www.4perday.com/").slice(11,-1)+"\nDay "+a+"\t  "+n+" / 7\n";r.forEach((function(e,t){for(var i=0;i<e;i++)o+="ðŸŸ¢ ";t==r.length-1?o+="ðŸŸ¢ ":o+="ðŸ”´ ",o+="\n"}));var l={value:o};if(m.isMobile){if(!navigator.share)return;navigator.share({url:t,title:"Sharing Score",text:l.value}).then((function(){console.log("Shared YEEEE!!!!!")})).catch((function(e){console.log("Sharing Failed")}))}else this.clipboardNotification.active=!0,y(this.clipboardNotification).delay(3).call((function(){i.clipboardNotification.active=!1})).start(),navigator.clipboard.writeText(l.value)},o.onCrossBtnClick=function(){this.node.active=!1},o.on4PerdayBtnClick=function(){var e;e="7inRow"===v.getInstance().getGameName()?encodeURI("http://www.4perday.com/"):encodeURI("http://www.7inRow.com/"),window.open(e,"_blank","location=yes,height=370,width=520,scrollbars=yes,status=yes")},o.on8OverBtnClick=function(){var e=encodeURI("http://www.8over.com/");window.open(e,"_blank","location=yes,height=370,width=520,scrollbars=yes,status=yes")},t}(w)).prototype,"Time",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(O.prototype,"Played",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(O.prototype,"CurrentStreak",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(O.prototype,"WinPercentage",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(O.prototype,"MaxStreak",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(O.prototype,"BtnLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(O.prototype,"DistributionTable",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(O.prototype,"DayDistribution",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(O.prototype,"WinBar",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=t(O.prototype,"clipboardNotification",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=O))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlayedIndicator.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constant.ts"],(function(e){"use strict";var t,r,o,n,i,a,l,c,s,d,p,u,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.defineProperty},function(e){a=e.cclegacy,l=e._decorator,c=e.Node,s=e.Animation,d=e.Sprite,p=e.Color,u=e.Component},function(e){y=e.GameState}],execute:function(){var h,f,g,m,C;a._RF.push({},"8ead0u4y+NEipRJrdStR8G9","GamePlayedIndicator",void 0);var v=l.ccclass,I=l.property;e("GamePlayedIndicator",(h=v("GamePlayedIndicator"),f=I(c),h((C=t((m=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,o(n(t),"greenIndicator",C,n(t)),i(n(t),"greenColor",new p(19,152,38)),i(n(t),"yellowColor",new p(247,211,83)),i(n(t),"redColor",new p(253,2,0)),t}r(t,e);var a=t.prototype;return a.start=function(){},a.setGamePlayedIndicatorEnabled=function(e){var t=this.yellowColor;switch(e){case y.WON:t=this.greenColor;break;case y.LOST:t=this.redColor}this.greenIndicator.active=!0;var r=this.node.getComponent(s);t==this.yellowColor?r.play(r.clips[0].name):r.stop(),this.greenIndicator.getComponent(d).color=t},t}(u)).prototype,"greenIndicator",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=m))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlayedBar.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./GameManager.ts"],(function(e){"use strict";var a,t,r,n,i,o,c,l,s,d,u,f;return{setters:[function(e){a=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.defineProperty},function(e){o=e.cclegacy,c=e._decorator,l=e.Prefab,s=e.instantiate,d=e.Component},function(e){u=e.GameState},function(e){f=e.default}],execute:function(){var m,p,b,h,y,P,g;o._RF.push({},"927a48hFJRK5bHliUv5lwqL","GamePlayedBar",void 0);var v=c.ccclass,G=c.property;e("GamePlayedBar",(m=v("GamePlayedBar"),p=G({type:l}),b=G(l),m((P=a((y=function(e){function a(){for(var a,t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return a=e.call.apply(e,[this].concat(o))||this,r(n(a),"IndicationBar",P,n(a)),r(n(a),"barPrefab",g,n(a)),i(n(a),"gameManager",new f),i(n(a),"currentIndicatorPrefab",void 0),a}t(a,e);var o=a.prototype;return o.start=function(){},o.setInitialGameBarIndicator=function(e){this.currentIndicatorPrefab="7inRow"==this.gameManager.getGameName()?this.IndicationBar[0]:this.IndicationBar[1];for(var a=0;a<e;a++){var t=s(this.currentIndicatorPrefab);if(t.name="counter_"+a,this.node.addChild(t),a==e-1)break;var r=s(this.barPrefab);this.node.addChild(r)}},o.setGamesPlayedData=function(e){for(var a=0;a<e;a++){var t="counter_"+a,r=this.node.getChildByName(t).getComponent("GamePlayedIndicator");a<=e-2?r.setGamePlayedIndicatorEnabled(u.WON):r.setGamePlayedIndicatorEnabled(this.gameManager.getCurrentGameStateData())}},a}(d)).prototype,"IndicationBar",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=a(y.prototype,"barPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/Constant.ts",["cc"],(function(n){"use strict";var e,E;return{setters:[function(n){e=n.cclegacy,E=n._decorator}],execute:function(){n({Buttons:void 0,CardType:void 0,Game:void 0,GameName:void 0,GameState:void 0,GameType:void 0,PlayerType:void 0,PlayerWinningState:void 0,Popup:void 0}),e._RF.push({},"967e6vQgoVNRKcADz8Cb/fY","Constant",void 0);var N,t,o,a,i,R,O,A,c;E.ccclass,E.property;!function(n){n[n.Spade=0]="Spade",n[n.Heart=1]="Heart",n[n.Club=2]="Club",n[n.Diamond=3]="Diamond"}(N||(N=n("CardType",{}))),function(n){n[n.PLAYER=0]="PLAYER",n[n.DEALER=1]="DEALER"}(t||(t=n("PlayerType",{}))),function(n){n[n.PENDING=0]="PENDING",n[n.WON=1]="WON",n[n.LOST=2]="LOST"}(o||(o=n("GameState",{}))),function(n){n[n.NOCARDSLEFT=0]="NOCARDSLEFT",n[n.LOST=1]="LOST",n[n.WON=2]="WON"}(a||(a=n("PlayerWinningState",{}))),function(n){n[n.STAND=0]="STAND",n[n.UNDO=1]="UNDO"}(i||(i=n("Buttons",{}))),function(n){n[n.SEVENINROW=7]="SEVENINROW",n[n.FOURPERDAY=4]="FOURPERDAY"}(R||(R=n("Game",{}))),function(n){n.DEALERWON="DEALER WON\nA NEW GAME BEGINS...",n.NOCARDSLEFT="NOT ENOUGH CARDS LEFT\nNEW GAME BEGINS",n.PLAYERWON="PLAYER WON\nA NEW HAND BEGINS...",n.HIT="YOU CAN ONLY HIT WITH\nACE THRU 7"}(O||(O=n("Popup",{}))),function(n){n[n.SEVENINROW=0]="SEVENINROW",n[n.FOURPERDAY=1]="FOURPERDAY"}(A||(A=n("GameType",{}))),function(n){n.SEVENINROW="7inRow",n.FOURPERDAY="4perDay"}(c||(c=n("GameName",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/Common.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t("collectComponent",(function(t,e,n){if(n)return t.getChildByName(n).getComponent(e);return t.getComponent(e)})),e._RF.push({},"cc33afifSpKU4lg+xAHdUQq","Common",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlay.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./GameManager.ts","./Common.ts"],(function(e){"use strict";var a,t,n,r,i,s,o,g,m,u,l,c,h,d,p,D,S,P,f,y,M,G,b,v,C,N,O,U,R,w;return{setters:[function(e){a=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.defineProperty},function(e){s=e.cclegacy,o=e._decorator,g=e.Node,m=e.JsonAsset,u=e.SpriteFrame,l=e.resources,c=e.Prefab,h=e.instantiate,d=e.sys,p=e.Animation,D=e.Button,S=e.Sprite,P=e.LabelOutlineComponent,f=e.Color,y=e.Label,M=e.tween,G=e.director,b=e.Component},function(e){v=e.Game,C=e.Buttons,N=e.PlayerWinningState,O=e.Popup,U=e.GameState},function(e){R=e.default},function(e){w=e.collectComponent}],execute:function(){var L,H,B,T,F,W,k,A,I,E,z,_,x,J,j,Y,V,q,K,Q,X,Z,$;s._RF.push({},"cfbb2ubRShEW74wNkbsj8mL","GamePlay",void 0);var ee=o.ccclass,ae=o.property;e("GamePlay",(L=ee("GamePlay"),H=ae({type:g}),B=ae({type:g}),T=ae({type:g}),F=ae({type:g}),W=ae({type:m}),k=ae({type:g}),A=ae(g),I=ae({type:g}),E=ae({type:g}),z=ae({type:u,tooltip:"Please follow CardType enum available in Constant file before assigning cards frame"}),L((J=a((x=function(e){function a(){for(var a,t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return a=e.call.apply(e,[this].concat(s))||this,n(r(a),"stand",J,r(a)),n(r(a),"endGame",j,r(a)),n(r(a),"congratsPopUp",Y,r(a)),n(r(a),"undoHit",V,r(a)),n(r(a),"gamePlayJSON",q,r(a)),n(r(a),"cardLayout",K,r(a)),i(r(a),"noOfGames",void 0),n(r(a),"gamePlayedBar",Q,r(a)),n(r(a),"LostPopup",X,r(a)),n(r(a),"RoundPopUp",Z,r(a)),n(r(a),"RoundPopUpFrames",$,r(a)),i(r(a),"flag",!1),i(r(a),"gameName",void 0),i(r(a),"updateScheduler",!0),i(r(a),"undoScheduler",void 0),i(r(a),"standScheduler",void 0),i(r(a),"gameManager",new R),a}t(a,e);var s=a.prototype;return s.start=function(){this.loadGameUI(),R.getInstance().getDontShowPopupStatus()||this.instiateTutorialPrefab()},s.instiateTutorialPrefab=function(){var e=this;l.load("Prefab/TutorialNode",c,(function(a,t){var n=h(t);e.node.addChild(n)}))},s.loadGameUI=function(){this.gameName=this.gameManager.getGameName(),this.noOfGames="7inRow"==this.gameName?v.SEVENINROW:v.FOURPERDAY;var e=!1;if(this.checkGameWon(),this.checkChangeInDate(),this.gameManager.getCardAlignmentData(),this.gameManager.getGameOverData()){var a=this.gameManager.getCurrentDayData(),t=this.gameManager.getCurrentGameData(),n=this.gameManager.getGameWonData(),r=this.gameManager.getPlayerStatistics(),i=this.gameManager.getHandsData(),s=this.gameManager.getCurrentDateData();t<this.noOfGames&&!n?(t++,d.localStorage.clear(),this.gameManager.getCardAlignmentData(),this.gameManager.setPlayerStatistics(r),this.gameManager.setCurrentGameData(t),this.gameManager.setCurrentDayData(a),this.gameManager.setHandsData(i),this.gameManager.setCurrentDateData(s)):t>this.noOfGames&&!n&&(this.gameManager.setPlayerCardsData([[]]),this.gameManager.setDealerCardsData([[]]),this.gameManager.setTotalFlippedCardsData(0),this.gameManager.setClickableCardsData(0),this.gameManager.setCurrentHandData(0))}this.setButtonAnimation();var o=this.gameManager.getCurrentHandData();this.gameManager.getStandData()&&(this.disableButton(C.STAND),e=!0),(1==e||this.gameManager.getPlayerCardsData()[o].length<3)&&this.disableButton(C.UNDO),this.setUpBottomBarUI()},s.checkChangeInDate=function(){this.gameManager.getNewDateSet()&&(this.gameManager.setStandData(!1),this.gameManager.setNewDateSet(!1))},s.setButtonAnimation=function(){var e=this.undoHit.getComponent(p),a=this.stand.getComponent(p);this.undoScheduler=function(){e.play(e.clips[0].name)},this.standScheduler=function(){a.play(a.clips[0].name)},this.setStandScheduler(!0),this.setUndoHitScheduler(!0)},s.disableButton=function(e){var a=e==C.STAND?this.stand:this.undoHit;w(a,D).enabled=!1,w(a,S).grayscale=!0,w(a,P,"Label").color=new f(125,125,125,255),e==C.STAND?this.setStandScheduler(!1):this.setUndoHitScheduler(!1)},s.checkGameWon=function(){var e=this;this.scheduleOnce((function(){e.gameManager.getGameWonData()?(e.congratsPopUp.active=!0,e.endGame.active=!0):e.gameManager.getHandsData().length>=e.noOfGames&&(e.LostPopup.active=!0,e.endGame.active=!0)}),1)},s.changeGameStatistics=function(e){var a=this.gameManager.getPlayerStatistics(),t=this.gameManager.getCurrentGameData();a.gamesPlayed++,e==N.WON?(a.gamesWon++,a.currentStreak++,a.currentStreak>a.maxStreak&&(a.maxStreak=a.currentStreak),a.guesses[t+""]++):(a.currentStreak=0,a.guesses.fail++),a.winPercentage=Number((a.gamesWon/a.gamesPlayed*100).toFixed(2)),this.gameManager.setPlayerStatistics(a)},s.setUpBottomBarUI=function(){var e=this.gamePlayedBar.getComponent("GamePlayedBar"),a=this.gameManager.getCurrentHandData();e.setInitialGameBarIndicator(this.noOfGames),e.setGamesPlayedData(a+1)},s.setUndoHitScheduler=function(e){e?this.schedule(this.undoScheduler,5):this.unschedule(this.undoScheduler)},s.setStandScheduler=function(e){e?this.schedule(this.standScheduler,5):this.unschedule(this.standScheduler)},s.setHitPopUp=function(){var e=this;this.RoundPopUp.active=!0,w(this.RoundPopUp,y,"Label").string=O.HIT,w(this.RoundPopUp,S).spriteFrame=this.RoundPopUpFrames[0],this.endGame.active=!0,M(this.RoundPopUp).delay(1).call((function(){e.RoundPopUp.active=!1,e.endGame.active=!1})).start()},s.resetGame=function(){var e=this;this.scheduleOnce((function(){var a=!0,t=e.gamePlayedBar.getComponent("GamePlayedBar"),n=e.gameManager.getCurrentHandData(),r=e.gameManager.getPlayerCardsData(),i=e.gameManager.getDealerCardsData(),s=0,o=0;r[n].forEach((function(e){s+=Number(e.num)})),i[n].forEach((function(e){o+=Number(e.num)})),s>=o?(e.gameManager.setCurrentGameStateData(U.WON),t.setGamesPlayedData(n+1),++n>=e.noOfGames?(e.gameManager.setGameWonData(!0),e.gameOver(N.WON),a=!1,n--):(e.RoundPopUp.active=!0,w(e.RoundPopUp,y,"Label").string=O.PLAYERWON,w(e.RoundPopUp,S).spriteFrame=e.RoundPopUpFrames[2],e.endGame.active=!0)):(e.gameManager.setCurrentGameStateData(U.LOST),t.setGamesPlayedData(n+1),e.gameOver(N.LOST),a=!1),e.gameManager.getGameWonData()||(r.push([]),i.push([])),e.gameManager.setPlayerCardsData(r),e.gameManager.setDealerCardsData(i),e.gameManager.setCurrentHandData(n),a&&e.scheduleOnce((function(){e.gameManager.setCurrentGameStateData(U.PENDING),e.gameManager.setStandData(!1),G.loadScene(e.gameName)}),2)}),2)},s.gameOver=function(e){var a=this;this.gameManager.setStandData(!0),this.gameManager.setGameOverData(!0);var t=this.gamePlayedBar.getComponent("GamePlayedBar"),n=this.gameManager.getCurrentHandData(),r=this.gameManager.getCurrentHandData(),i=this.gameManager.getHandsData();switch(i.push(n),this.gameManager.setHandsData(i),e){case N.NOCARDSLEFT:this.gameManager.setCurrentGameStateData(U.LOST),t.setGamesPlayedData(n+1),this.scheduleOnce((function(){a.RoundPopUp.active=!0,w(a.RoundPopUp,y,"Label").string=O.NOCARDSLEFT,w(a.RoundPopUp,S).spriteFrame=a.RoundPopUpFrames[1],a.endGame.active=!0,a.scheduleOnce(a.reloadScene,3)}),2);break;case N.LOST:r>=this.noOfGames&&this.changeGameStatistics(N.LOST),this.RoundPopUp.active=!0,w(this.RoundPopUp,y,"Label").string=O.DEALERWON,w(this.RoundPopUp,S).spriteFrame=this.RoundPopUpFrames[0],this.endGame.active=!0,r<this.noOfGames&&this.scheduleOnce(this.reloadScene,3);break;case N.WON:this.changeGameStatistics(N.WON),this.congratsPopUp.active=!0,this.endGame.active=!0}},s.reloadScene=function(){this.gameManager.setCurrentGameStateData(U.PENDING),G.loadScene(this.gameName)},s.checkForNewDate=function(){var e=new Date(this.gameManager.getCurrentDateData()),a=new Date;if(e.toLocaleDateString()!=a.toLocaleDateString()){var t=(new Date(a.toDateString()).getTime()-new Date(e.toDateString()).getTime())/864e5;this.resetToNewGame(t)}},s.resetToNewGame=function(e){var a=this.gameManager.getPlayerStatistics(),t=this.gameManager.getCurrentDayData();t+=e,!this.gameManager.getGameWonData()&&(a.currentStreak=0),d.localStorage.clear(),this.gameManager.setNewDateSet(!0),this.gameManager.setCurrentDayData(t),this.gameManager.setCurrentDateData(new Date((new Date).toDateString())),this.gameManager.getCardAlignmentData(),this.gameManager.setPlayerStatistics(a),this.updateScheduler=!1,G.loadScene(this.gameName)},s.update=function(){this.checkForNewDate(),this.LostPopup.active||this.congratsPopUp.active||this.RoundPopUp.active||(this.endGame.active=!1)},a}(b)).prototype,"stand",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=a(x.prototype,"endGame",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=a(x.prototype,"congratsPopUp",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=a(x.prototype,"undoHit",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=a(x.prototype,"gamePlayJSON",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=a(x.prototype,"cardLayout",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=a(x.prototype,"gamePlayedBar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=a(x.prototype,"LostPopup",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=a(x.prototype,"RoundPopUp",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=a(x.prototype,"RoundPopUpFrames",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=x))||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/Card.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./GameManager.ts"],(function(a){"use strict";var e,t,r,i,n,c,s,l,d,o,h,u,g,p,m,C,f,y;return{setters:[function(a){e=a.applyDecoratedDescriptor,t=a.inheritsLoose,r=a.initializerDefineProperty,i=a.assertThisInitialized,n=a.defineProperty},function(a){c=a.cclegacy,s=a._decorator,l=a.Sprite,d=a.Label,o=a.SpriteFrame,h=a.resources,u=a.JsonAsset,g=a.tween,p=a.Vec3,m=a.Color,C=a.Component},function(a){f=a.CardType},function(a){y=a.default}],execute:function(){var b,D,F,N,S,v,M,k,w,T,_,P,H;c._RF.push({},"dcd9cSYnxRDfYXFMTN9a/pU","Card",void 0);var B=s.ccclass,A=s.property;a("Card",(b=B("Card"),D=A(l),F=A(d),N=A({type:o,visible:function(){return this.cardFrames.length=4,!0},tooltip:"Please follow CardType enum available in Constant file before assigning cards frame"}),S=A({type:o}),v=A({type:o}),b((w=e((k=function(a){function e(){for(var e,t=arguments.length,c=new Array(t),s=0;s<t;s++)c[s]=arguments[s];return e=a.call.apply(a,[this].concat(c))||this,r(i(e),"card",w,i(e)),r(i(e),"cardNumber",T,i(e)),r(i(e),"cardFrames",_,i(e)),r(i(e),"darkCard",P,i(e)),r(i(e),"lightCard",H,i(e)),n(i(e),"ctype",f.Club),n(i(e),"cardNum",1),n(i(e),"redColor",new m(200,7,19,255)),n(i(e),"blackColor",new m(47,48,51,255)),n(i(e),"canFlip",!0),n(i(e),"cardScale",1),n(i(e),"_playerScriptDelecate",void 0),n(i(e),"_dealerScriptDelecate",void 0),n(i(e),"_gamePlay",void 0),n(i(e),"gameManager",new y),n(i(e),"gameName",void 0),n(i(e),"cardsData",void 0),e}t(e,a);var c=e.prototype;return c.start=function(){var a=this;this.gameName=this.gameManager.getGameName(),h.load(this.gameName+"Data",u,(function(e,t){a.cardsData=t.json.Cards})),this.cardScale=this.node.getScale().x},c.setDelegate=function(a,e){this._playerScriptDelecate=a,this._dealerScriptDelecate=e},c.setGamePlayDelegate=function(a){this._gamePlay=a},c.updateCardType=function(a){this.setCardData(a),this.validateCard();var e=this.cardNum>1?this.cardNum.toString():"A";this.cardNumber.string=e,this.cardNumber.color=this.redColor,this.ctype!=f.Spade&&this.ctype!=f.Club||(this.cardNumber.color=this.blackColor),this.cardNumber.node.active=!0,this.card.spriteFrame=this.cardFrames[this.ctype]},c.validateCard=function(){(this.cardNum>10||this.cardNum<1)&&(this.cardNum=this.cardNum>10?10:1),(this.ctype>3||this.ctype<0)&&(this.ctype=this.ctype>3?3:0)},c.setCardData=function(a){this.ctype=a.type,this.cardNum=a.num,this.canFlip=a.isClickable},c.buttonCB=function(a,e){Number(this.cardNumber.node.getComponent(d).string)>7&&this._gamePlay.setHitPopUp(),this.canFlip&&this.flipTheCard(e,.36,!0)},c.flipTheCard=function(a,e,t){var r=this,i=this.gameManager.getCurrentHandData(),n=this.cardsData.find((function(a){if(Number(a.type)==Number(r.ctype)&&Number(a.num)==Number(r.cardNum))return!0})),c=this.gameManager.getCardAlignmentData();c.forEach((function(a){a.type==n.type&&a.num==n.num&&(a.used=!0)})),this.gameManager.setCardAlignmentData(c),n.index=this.node.name,n.currentHand=i,t&&a?this.cardClicked(t,n,a,e):this.onRandomCardSelection(t,n,a,e)},c.setLocalStorageItems=function(a,e,t,r){this.gameManager.setPlayerCardsData(a),this.gameManager.setDealerCardsData(e),this.gameManager.setTotalFlippedCardsData(t),this.gameManager.setClickableCardsData(r)},c.cardClicked=function(a,e,t,r){var i=this.gameManager.getPlayerCardsData(),n=this.gameManager.getCurrentHandData(),c=this.gameManager.getTotalFlippedCardsData(),s=this.gameManager.getStandData(),l=this.gameManager.getClickableCardsData(),d=this.gameManager.getDealerCardsData();this.canFlip&&i[n].length<4&&!s&&(i[n].push(e),l++,c++,3==i[n].length&&this._playerScriptDelecate.enableUndoHit(),this.setLocalStorageItems(i,d,c,l),this.flipCardToBackFace(t,r,a))},c.onRandomCardSelection=function(a,e,t,r){var i,n,c=this.gameManager.getPlayerCardsData(),s=this.gameManager.getDealerCardsData(),l=this.gameManager.getCurrentHandData(),d=this.gameManager.getTotalFlippedCardsData(),o=(this.gameManager.getStandData(),this.gameManager.getClickableCardsData());i=this.checkInFlippedCards(e),n=this.checkInDealerCards(e),i||n||(Number(e.num)<8&&o++,d++,a?c[l].push(e):s[l].push(e),this.setLocalStorageItems(c,s,d,o),this.flipCardToBackFace(t,r,a))},c.checkInFlippedCards=function(a){var e=this.gameManager.getPlayerCardsData(),t=!1;return e.forEach((function(e){e.forEach((function(e){e.num==a.num&&e.type==a.type&&(t=!0)}))})),t},c.checkInDealerCards=function(a){var e=this.gameManager.getDealerCardsData(),t=!1;return e.forEach((function(e){e.forEach((function(e){e.num==a.num&&e.type==a.type&&(t=!0)}))})),t},c.showCardBackFace=function(a){void 0===a&&(a=!1),this.cardNumber.node.active=!1,this.card.spriteFrame=a?this.lightCard:this.darkCard},c.showCardFrontFace=function(a){this.card.spriteFrame=this.cardFrames[a.type],this.cardNumber.node.active=!0},c.flipCardToBackFace=function(a,e,t){var r=this,i=e;this.canFlip=!1;var n=.9*this.cardScale,c=this.gameManager.getPlayerCardsData(),s=this.gameManager.getDealerCardsData(),l=this.gameManager.getCurrentHandData();g(this.node).to(i,{scale:new p(0,this.cardScale,this.cardScale)}).call((function(){r.showCardBackFace(!1)})).to(i,{scale:new p(n,n,n)}).call((function(){t?r._playerScriptDelecate.flipCardToOriginal(c[l].length-1+"",r.cardFrames[r.ctype],r.cardNumber.string,r.cardNumber.color,i,t):r._dealerScriptDelecate.flipCardToOriginal(s[l].length-1+"",r.cardFrames[r.ctype],r.cardNumber.string,r.cardNumber.color,i,t)})).start()},c.flipCardToOriginal=function(a,e){var t=this,r=.36;this.canFlip=!1,g(this.node).to(r,{scale:new p(0,this.cardScale,this.cardScale)}).call((function(){t.showCardFrontFace(a)})).to(r,{scale:new p(this.cardScale,this.cardScale,this.cardScale)}).call((function(){t._playerScriptDelecate.flipCardToBackFace(e+"",t.lightCard,r)})).start(),this.canFlip=!0},c.setCardFlip=function(){this.canFlip=!1},c.alreadyFlipped=function(a,e,t){var r=this,i=this.gameManager.getCurrentHandData();this.cardNum=a.num,this.ctype=a.type;var n=this.cardNum>1?this.cardNum.toString():"A";this.cardNumber.string=n,this.cardNumber.node.active=!0;var c=this.redColor;a.type!=f.Spade&&a.type!=f.Club||(c=this.blackColor),this.cardNumber.color=c;var s=.36,l=.9*this.node.getScale().x;g(this.node).to(s,{scale:new p(0,this.cardScale,this.cardScale)}).call((function(){r.showCardBackFace(!1)})).to(s,{scale:new p(l,l,l)}).start(),a.currentHand==i&&(t?this._playerScriptDelecate.flipCardToOriginal(e,this.cardFrames[a.type],1==a.num?"A":a.num,c,s,t):this._dealerScriptDelecate.flipCardToOriginal(e,this.cardFrames[a.type],1==a.num?"A":a.num,c,s,t))},e}(C)).prototype,"card",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(k.prototype,"cardNumber",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(k.prototype,"cardFrames",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=e(k.prototype,"darkCard",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(k.prototype,"lightCard",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=k))||M));c._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerBase.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./GameManager.ts"],(function(e){"use strict";var t,a,r,i,n,o,s,l,d,c,u,h,C,p,g,m,y,f,b,v,w,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.defineProperty},function(e){o=e.cclegacy,s=e._decorator,l=e.Prefab,d=e.Node,c=e.Enum,u=e.UITransform,h=e.instantiate,C=e.Sprite,p=e.Label,g=e.tween,m=e.Vec3,y=e.Button,f=e.LabelOutlineComponent,b=e.Color,v=e.Component},function(e){w=e.PlayerType},function(e){P=e.default}],execute:function(){var B,F,N,H,S,k,D,z,T,L,M,E,U,_,A;o._RF.push({},"e9c5dAsjm1Nx5WOkokTzDqt","PlayerBase",void 0);var R=s.ccclass,G=s.property;e("PlayerBase",(B=R("PlayerBase"),F=G(l),N=G({type:d}),H=G({type:d}),S=G(d),k=G({type:d}),D=G({type:c(w),visible:function(){return!0}}),B((L=t((T=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,r(i(t),"cardPrefab",L,i(t)),r(i(t),"undoHit",M,i(t)),r(i(t),"gamePlay",E,i(t)),r(i(t),"base",U,i(t)),r(i(t),"score",_,i(t)),r(i(t),"pType",A,i(t)),n(i(t),"dealerCardsCount",3),n(i(t),"playerCardsCount",4),n(i(t),"ratio",0),n(i(t),"gameManager",new P),t}a(t,e);var o=t.prototype;return o.start=function(){var e=this.node.getComponent(u).width,t=this.cardPrefab.data.width;this.dealerCardsCount>this.playerCardsCount?this.ratio=(.9*e-5*this.dealerCardsCount)/(this.dealerCardsCount*t):this.ratio=(.9*e-5*this.playerCardsCount)/(this.playerCardsCount*t),this.pType==w.PLAYER?this.addPlayerCards():this.addDealerCards()},o.addPlayerCards=function(){for(var e=0;e<this.playerCardsCount;e++){var t=h(this.cardPrefab);this.base.addChild(t),t.name=e+"",console.log(t.getScale()),t.setScale(.95*this.ratio,.95*this.ratio,1);var a=t.getComponent("Card");a.setCardFlip(),e<2?a.showCardBackFace(!1):a.showCardBackFace(!0)}},o.addDealerCards=function(){for(var e=0;e<this.dealerCardsCount;e++){var t=h(this.cardPrefab);this.base.addChild(t),t.name=e+"",t.setScale(.95*this.ratio,.95*this.ratio,1);var a=t.getComponent("Card");a.setCardFlip(),e<1?a.showCardBackFace(!1):a.showCardBackFace(!0)}},o.showCardFrontFace=function(e,t,a,r){var i=this.base.getChildByName(e).getChildByName("Sprite");i.getComponent(C).spriteFrame=t;var n=i.getChildByName("CardNumber");n.getComponent(p).string=a,n.getComponent(p).color=r,n.active=!0},o.flipCardToOriginal=function(e,t,a,r,i,n){var o=this,s=this.base.getChildByName(e),l=i;g(s).to(l,{scale:new m(0,this.ratio,this.ratio)}).call((function(){o.showCardFrontFace(e,t,a,r)})).to(l,{scale:new m(this.ratio,this.ratio,this.ratio)}).start(),this.updateScore(n)},o.showCardBackFace=function(e,t){var a=this.base.getChildByName(e).getChildByName("Sprite");a.getComponent(C).spriteFrame=t,a.getChildByName("CardNumber").active=!1},o.flipCardToBackFace=function(e,t,a){var r=this,i=this.base.getChildByName(e),n=a;g(i).to(n,{scale:new m(0,this.ratio,this.ratio)}).call((function(){r.showCardBackFace(e,t)})).to(n,{scale:new m(.95*this.ratio,.95*this.ratio,.95*this.ratio)}).start(),this.updateScore(!0)},o.enableUndoHit=function(){var e=this.gamePlay.getComponent("GamePlay");this.undoHit.getComponent(y).enabled=!0,this.undoHit.getComponent(C).grayscale=!1,e.setUndoHitScheduler(!0),this.undoHit.getChildByName("Label").getComponent(f).color=new b(166,100,25,255)},o.disableUndoHit=function(){var e=this.gamePlay.getComponent("GamePlay");this.undoHit.getComponent(y).enabled=!1,this.undoHit.getComponent(C).grayscale=!0,e.setUndoHitScheduler(!1),this.undoHit.getChildByName("Label").getComponent(f).color=new b(125,125,125,255)},o.updateScore=function(e){var t=this.gameManager.getPlayerCardsData(),a=this.gameManager.getDealerCardsData(),r=this.gameManager.getCurrentHandData(),i=0;e?t[r].forEach((function(e){i+=Number(e.num)})):a[r].forEach((function(e){i+=Number(e.num)})),this.score.getComponent(p).string=i.toString()},t}(v)).prototype,"cardPrefab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(T.prototype,"undoHit",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(T.prototype,"gamePlay",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(T.prototype,"base",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(T.prototype,"score",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(T.prototype,"pType",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.PLAYER}}),z=T))||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Constant.ts","./GameManager.ts","./Tutorial.ts","./CardLayout.ts","./APAspectRatioFitter.ts","./Common.ts","./Lost.ts","./Congrats.ts","./GamePlayedIndicator.ts","./GamePlayedBar.ts","./GamePlay.ts","./Card.ts","./PlayerBase.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});