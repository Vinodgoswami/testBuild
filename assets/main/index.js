System.register("chunks:///_virtual/CardLayout.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constant.ts"],(function(e){"use strict";var a,t,r,l,n,o,i,s,d,c,p,g,u,h,m,C,S,f,y;return{setters:[function(e){a=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,l=e.assertThisInitialized,n=e.defineProperty},function(e){o=e.cclegacy,i=e._decorator,s=e.Node,d=e.Prefab,c=e.sys,p=e.resources,g=e.JsonAsset,u=e.instantiate,h=e.Button,m=e.Sprite,C=e.LabelOutlineComponent,S=e.Color,f=e.Component},function(e){y=e.PlayerWinningState}],execute:function(){var O,b,I,N,P,v,D,J,k,B,F,w,L,H,T;o._RF.push({},"1e3dfWtgDBGnK4Yya8wRHra","CardLayout",void 0);var z=i.ccclass,A=i.property;e("CardLayout",(O=z("CardLayout"),b=A({type:s}),I=A({type:s}),N=A({type:s}),P=A({type:s}),v=A(s),D=A(d),O((B=a((k=function(e){function a(){for(var a,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return a=e.call.apply(e,[this].concat(o))||this,r(l(a),"playerBase",B,l(a)),r(l(a),"dealerBase",F,l(a)),r(l(a),"stand",w,l(a)),r(l(a),"gamePlay",L,l(a)),r(l(a),"cardbase",H,l(a)),r(l(a),"cardPrefab",T,l(a)),n(l(a),"cardData",[]),a}t(a,e);var o=a.prototype;return o.start=function(){var e=this;this.cardData=[];var a=JSON.parse(c.localStorage.getItem("currentDay"));p.load("CardsData",g,(function(t,r){e.cardData=r.json["Day_"+(a%40?a%40:40)],e.updateCardUI()}))},o.updateCardUI=function(){for(var e=this,a=this.gamePlay.getComponent("GamePlay"),t=JSON.parse(c.localStorage.getItem("totalFlippedCards")),r=JSON.parse(c.localStorage.getItem("flippedCards")),l=JSON.parse(c.localStorage.getItem("dealerCards")),n=JSON.parse(c.localStorage.getItem("currentHand")),o=JSON.parse(c.localStorage.getItem("gameOver")),i=this.playerBase.getComponent("PlayerBase"),s=this.dealerBase.getComponent("PlayerBase"),d=JSON.parse(c.localStorage.getItem("clickableCards")),p=0;p<this.cardData.length;p++){var g,h,m,C,S,f,y=u(this.cardPrefab);this.cardbase.addChild(y),y.name=p+"";var O=this.cardData[p],b=y.getComponent("Card");b.setDelegate(i,s);var I=this.checkInFlippedCards(O);g=I[0],C=I[1],f=I[2];var N=this.checkInDealerCards(O);h=N[0],m=N[1],S=N[2],g?(b.alreadyFlipped(C,f+"",!0),b.setCardFlip()):h?(b.alreadyFlipped(m,S+"",!1),b.setCardFlip()):b.updateCardType(O)}if(0==n&&(r[n].length<2||l[n].length<1)&&!o){c.localStorage.setItem("Stand","true");var P=0;this.schedule((function(){e.fixedHandStartCardPicking(P++)}),1,2,.5)}else if((r[n].length<2||l[n].length<1)&&!o){c.localStorage.setItem("Stand","true");var v=0;this.schedule((function(){e.handStartCardPicking(v++,t,d,a)}),1,2,.5)}},o.fixedHandStartCardPicking=function(e){e%2?this.checkPlayerOrDealer(!1):(this.checkPlayerOrDealer(!0),2==e&&c.localStorage.setItem("Stand","false"))},o.handStartCardPicking=function(e,a,t,r){e%2?this.randomCardPicking("dealerCards",e):(this.randomCardPicking("flippedCards",Math.floor(e/2)+1),2==e&&(c.localStorage.setItem("Stand","false"),a=JSON.parse(c.localStorage.getItem("totalFlippedCards")),t=JSON.parse(c.localStorage.getItem("clickableCards")),a>=36?r.gameOver(y.NOCARDSLEFT):t>=28&&this.scheduleOnce(this.showAllDealerCards.bind(this,this.stand),1)))},o.checkInFlippedCards=function(e){var a,t,r=JSON.parse(c.localStorage.getItem("flippedCards")),l=!1;return r.forEach((function(r){r.forEach((function(r,n){r.type==e.type&&r.num==e.num&&(l=!0,a=r,t=n)}))})),[l,a,t]},o.checkInDealerCards=function(e){var a,t,r=JSON.parse(c.localStorage.getItem("dealerCards")),l=!1;return r.forEach((function(r){r.forEach((function(r,n){r.type==e.type&&r.num==e.num&&(l=!0,a=r,t=n)}))})),[l,a,t]},o.checkPlayerOrDealer=function(e){for(var a=e?"isPlayer":"isDealer",t=0;t<this.cardData.length;t++){if(this.cardData[t][a])if(!this.checkInFlippedCards(this.cardData[t])[0]){this.cardbase.getChildByName(t+"").getComponent("Card").flipTheCard(0,.36,e);break}}},o.randomCardPicking=function(e,a){for(var t=JSON.parse(c.localStorage.getItem(e)),r=JSON.parse(c.localStorage.getItem("totalFlippedCards")),l=JSON.parse(c.localStorage.getItem("currentHand"));t[l].length<a&&r<36;){var n=Math.floor(Math.random()*this.cardData.length),o=this.cardbase.getChildByName(n+"").getComponent("Card");"flippedCards"==e?o.flipTheCard(0,.36,!0):o.flipTheCard(0,.36,!1),t=JSON.parse(c.localStorage.getItem(e)),r=JSON.parse(c.localStorage.getItem("totalFlippedCards"))}},o.standBtnClick=function(e){this.showAllDealerCards(e.target)},o.showAllDealerCards=function(e){var a=this;this.playerBase.getComponent("PlayerBase").disableUndoHit();var t=JSON.parse(c.localStorage.getItem("currentHand")),r=this.gamePlay.getComponent("GamePlay"),l=JSON.parse(c.localStorage.getItem("totalFlippedCards"));r.setStandScheduler(!1),e.getComponent(h).enabled=!1,e.getComponent(m).grayscale=!0,e.getChildByName("Label").getComponent(C).color=new S(125,125,125,255),c.localStorage.setItem("Stand","true");var n=JSON.parse(c.localStorage.getItem("dealerCards"));if(this.randomCardPicking("dealerCards",2),l>=36&&r.gameOver(y.NOCARDSLEFT),!JSON.parse(c.localStorage.getItem("gameOver"))){n=JSON.parse(c.localStorage.getItem("dealerCards"));var o=0;n[t].forEach((function(e){o+=Number(e.num)})),o<=7?this.scheduleOnce((function(){a.randomCardPicking("dealerCards",3),l>=36?r.gameOver(y.NOCARDSLEFT):r.resetGame()}),1):r.resetGame()}},o.undoHit=function(e){var a=JSON.parse(c.localStorage.getItem("clickableCards")),t=JSON.parse(c.localStorage.getItem("flippedCards")),r=JSON.parse(c.localStorage.getItem("totalFlippedCards")),l=JSON.parse(c.localStorage.getItem("currentHand")),n=t[l].pop();t[l].length<3&&(e.target.getComponent(h).enabled=!1,e.target.getComponent(m).grayscale=!0,this.gamePlay.getComponent("GamePlay").setUndoHitScheduler(!1),e.target.getChildByName("LabelWithBrowOutLine").getComponent(C).color=new S(125,125,125,255));a--,r--,c.localStorage.setItem("clickableCards",JSON.stringify(a)),c.localStorage.setItem("flippedCards",JSON.stringify(t)),c.localStorage.setItem("totalFlippedCards",JSON.stringify(r)),this.cardbase.getChildByName(n.index+"").getComponent("Card").flipCardToOriginal(n,t[l].length)},a}(f)).prototype,"playerBase",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=a(k.prototype,"dealerBase",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=a(k.prototype,"stand",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=a(k.prototype,"gamePlay",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=a(k.prototype,"cardbase",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=a(k.prototype,"cardPrefab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=k))||J));o._RF.pop()}}}));

System.register("chunks:///_virtual/APAspectRatioFitter.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,o,r,s,h,a,p,c,d,u,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.defineProperty,s=t.createClass},function(t){h=t.cclegacy,a=t._decorator,p=t.Sprite,c=t.Enum,d=t.Size,u=t.UITransform,g=t.Component}],execute:function(){var l,f,F,C,y,m,v,E,S;t("APAspectRatioFitType",void 0),h._RF.push({},"3130bJk9hpJlZHdw9EpUFH/","APAspectRatioFitter",void 0),function(t){t[t.None=0]="None",t[t.FitVertical=1]="FitVertical",t[t.FitHorizontal=2]="FitHorizontal",t[t.Envelope=3]="Envelope",t[t.FitInside=4]="FitInside",t[t.Stretch=5]="Stretch"}(S||(S=t("APAspectRatioFitType",{})));var z=t("ON_SPRITE_FRAME_CHANGED","OnSpriteFrameChanged"),A=(t("ON_LAYOUT_CHANGED","OnLayoutChanged"),a.ccclass),w=a.property,P=a.menu,_=a.executeInEditMode;t("APAspectRatioFitter",(l=P("Custom UI/Aspect Ratio Fitter"),f=w(p),F=w({type:c(S),serializable:!0,visible:!1}),C=w({type:c(S)}),A(y=l(y=_((v=e((m=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return e=t.call.apply(t,[this].concat(s))||this,n(o(e),"sprite",v,o(e)),n(o(e),"_fitMode",E,o(e)),r(o(e),"editorFocus",!1),e}i(e,t);var h=e.prototype;return h.onLoad=function(){this.node&&(this.sprite=this.getComponent(p)),this.onSizeChanged(),this.node.parent.on("Node.EventType.SIZE_CHANGED",this.onSizeChanged,this),this.node.on(z,this.onSizeChanged,this)},h.onDestroy=function(){this.node&&(this.node.parent.off("Node.EventType.SIZE_CHANGED",this.onSizeChanged,this),this.node.off(z,this.onSizeChanged,this))},h.onFocusInEditor=function(){this.editorFocus=!0},h.onLostFocusInEditor=function(){this.editorFocus=!1},h.update=function(t){this.editorFocus&&this.onSizeChanged()},h.onSizeChanged=function(){if(null!==this.sprite){var t=this.sprite.spriteFrame.getOriginalSize();if(this.sprite.trim){var e=this.sprite.spriteFrame.getRect();t=new d(e.width,e.height)}var i=this.node.getParent().getComponent(u).width/t.width,n=this.node.getParent().getComponent(u).height/t.height,o=0,r=0;switch(this.fitMode){case S.Envelope:var s=Math.max(i,n);o=t.width*s,r=t.height*s;break;case S.FitVertical:r=this.node.getParent().getComponent(u).height,o=t.width*n;break;case S.FitHorizontal:o=this.node.getParent().getComponent(u).width,r=t.height*i;break;case S.FitInside:s=Math.min(i,n);o=t.width*s,r=t.height*s;break;case S.Stretch:o=this.node.getParent().getComponent(u).width,r=this.node.getParent().getComponent(u).height}this.node.getComponent(u).width=o,this.node.getComponent(u).height=r}},s(e,[{key:"fitMode",get:function(){return this._fitMode},set:function(t){this._fitMode=t,this.onSizeChanged()}}]),e}(g)).prototype,"sprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(m.prototype,"_fitMode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.Envelope}}),e(m.prototype,"fitMode",[C],Object.getOwnPropertyDescriptor(m.prototype,"fitMode"),m.prototype),y=m))||y)||y)||y));h._RF.pop()}}}));

System.register("chunks:///_virtual/Lost.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,n,e,s;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,s=t.Component}],execute:function(){var c;n._RF.push({},"3e31ddX7UxMg66FvkVYPcHW","Lost",void 0);var r=e.ccclass;e.property,t("Lost",r("Lost")(c=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var e=n.prototype;return e.start=function(){},e.onCrossBtnClick=function(){this.node.active=!1},e.onLinkbtnClick=function(){var t=encodeURI("http://www.4perday.com/");window.open(t,"_blank","location=yes,height=370,width=520,scrollbars=yes,status=yes")},n}(s))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,a,r;return{setters:[function(e){t=e.defineProperty},function(e){n=e.cclegacy,a=e._decorator,r=e.sys}],execute:function(){var s,c,o;n._RF.push({},"79354q0mr5EkZFArdyfrN5e","GameManager",void 0);var u=a.ccclass,i=(a.property,"Current_Game");e("default",u("GameManager")((o=c=function(){function e(){t(this,"gameName","7_In_Row")}e.getInstance=function(){return e.instance||(e.instance=new e),e.instance};var n=e.prototype;return n.getKeyName=function(e){return e+this.gameName},n.setCurrentGameData=function(e){r.localStorage.setItem(this.getKeyName(i),e.toString())},n.getCurrentGameData=function(){var e=r.localStorage.getItem(this.getKeyName(i));return null==e?(e="1",this.setCurrentGameData(e),parseInt(e)):parseInt(e)},e}(),t(c,"instance",void 0),s=o))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/Congrats.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Common.ts"],(function(t){"use strict";var e,i,r,a,n,o,l,s,u,c,g,p,b,h,f,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized,n=t.defineProperty},function(t){o=t.cclegacy,l=t._decorator,s=t.Node,u=t.SpriteFrame,c=t.Label,g=t.sys,p=t.Widget,b=t.Color,h=t.Sprite,f=t.Component},function(t){m=t.collectComponent}],execute:function(){var S,y,v,D,T,d,w,C,P,k,W,z,L,N,O,x,B;o._RF.push({},"851f0RW62pNr7hN1AHSFZUE","Congrats",void 0);var F=l.ccclass,I=l.property;t("Congrats",(S=F("Congrats"),y=I({type:s}),v=I({type:s}),D=I({type:s}),T=I({type:s}),d=I({type:s}),w=I({type:s,visible:function(){return this.DistributionTable.length=7,!0}}),C=I({type:u,visible:function(){return this.WinBar.length=2,!0}}),S((W=e((k=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,r(a(e),"Time",W,a(e)),r(a(e),"Played",z,a(e)),r(a(e),"CurrentStreak",L,a(e)),r(a(e),"WinPercentage",N,a(e)),r(a(e),"MaxStreak",O,a(e)),r(a(e),"DistributionTable",x,a(e)),r(a(e),"WinBar",B,a(e)),n(a(e),"flag",!0),e}i(e,t);var o=e.prototype;return o.start=function(){},o.update=function(t){this.flag&&this.node.active&&(this.setUpStatistics(),this.changeTime(),this.schedule(this.changeTime,1),this.flag=!1)},o.changeTime=function(){var t=new Date,e=/([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]/g,i=new Date(t.toString().replace(e,"23:59:59")),r=new Date(i.valueOf()-t.valueOf()).toISOString().match(e).toString();this.Time.getComponent(c).string=r},o.setUpStatistics=function(){var t=JSON.parse(g.localStorage.getItem("playerStatistics"));m(this.Played,c).string=t.gamesPlayed,m(this.CurrentStreak,c).string=t.currentStreak,m(this.WinPercentage,c).string=t.winPercentage,m(this.MaxStreak,c).string=t.maxStreak,this.setUpDistributionTable()},o.setUpDistributionTable=function(){for(var t=JSON.parse(g.localStorage.getItem("playerStatistics")),e=1;e<8;e++)m(this.DistributionTable[e-1],c,"Label").string=t.guesses[e],t.guesses[e]?(m(this.DistributionTable[e-1],p,"Label").right=.07,m(this.DistributionTable[e-1],c,"Label").color=new b(0,0,0),m(this.DistributionTable[e-1],h).spriteFrame=this.WinBar[1]):(m(this.DistributionTable[e-1],p,"Label").right=.44,m(this.DistributionTable[e-1],c,"Label").color=new b(255,255,255),m(this.DistributionTable[e-1],h).spriteFrame=this.WinBar[0])},o.onShareBtnClick=function(t){var e=JSON.parse(g.localStorage.getItem("currentDay")),i=JSON.parse(g.localStorage.getItem("currentGame")),r=JSON.parse(g.localStorage.getItem("handsData")),a="7inaRow.com \nDay "+e+"\t"+i+"/7\n\n";r.forEach((function(t){for(var e=0;e<t;e++)a+="🟢 ";a+="\n\n"}));var n={value:a};if(g.isMobile){if(!navigator.share)return;navigator.share({url:"https://mywebsite.com",title:"Sharing Cool things",text:n.value}).then((function(){console.log("Shared YEEEE!!!!!")})).catch((function(t){console.log("Sharing Failed")}))}else navigator.clipboard.writeText(n.value);console.log(a)},e}(f)).prototype,"Time",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(k.prototype,"Played",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(k.prototype,"CurrentStreak",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(k.prototype,"WinPercentage",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(k.prototype,"MaxStreak",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(k.prototype,"DistributionTable",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(k.prototype,"WinBar",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=k))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlayedIndicator.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constant.ts"],(function(e){"use strict";var r,t,o,n,i,a,c,l,s,d,u,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.defineProperty},function(e){a=e.cclegacy,c=e._decorator,l=e.Node,s=e.Color,d=e.Sprite,u=e.Component},function(e){p=e.GameState}],execute:function(){var y,f,h,g,m;a._RF.push({},"8ead0u4y+NEipRJrdStR8G9","GamePlayedIndicator",void 0);var C=c.ccclass,I=c.property;e("GamePlayedIndicator",(y=C("GamePlayedIndicator"),f=I(l),y((m=r((g=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),c=0;c<t;c++)a[c]=arguments[c];return r=e.call.apply(e,[this].concat(a))||this,o(n(r),"greenIndicator",m,n(r)),i(n(r),"greenColor",new s(19,152,38)),i(n(r),"yellowColor",new s(247,211,83)),i(n(r),"redColor",new s(253,2,0)),r}t(r,e);var a=r.prototype;return a.start=function(){},a.setGamePlayedIndicatorEnabled=function(e){var r=this.yellowColor;switch(e){case p.WON:r=this.greenColor;break;case p.LOST:r=this.redColor}this.greenIndicator.active=!0,this.greenIndicator.getComponent(d).color=r},r}(u)).prototype,"greenIndicator",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=g))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlayedBar.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constant.ts"],(function(e){"use strict";var a,t,r,n,i,o,l,c,s,u,d;return{setters:[function(e){a=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,l=e.Prefab,c=e.instantiate,s=e.sys,u=e.Component},function(e){d=e.GameState}],execute:function(){var f,p,b,y,m,P,h;i._RF.push({},"927a48hFJRK5bHliUv5lwqL","GamePlayedBar",void 0);var v=o.ccclass,G=o.property;e("GamePlayedBar",(f=v("GamePlayedBar"),p=G(l),b=G(l),f((P=a((m=function(e){function a(){for(var a,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return a=e.call.apply(e,[this].concat(i))||this,r(n(a),"indicatorsPrefab",P,n(a)),r(n(a),"barPrefab",h,n(a)),a}t(a,e);var i=a.prototype;return i.start=function(){},i.setInitialGameBarIndicator=function(e){for(var a=0;a<e;a++){var t=c(this.indicatorsPrefab);if(t.name="counter_"+a,this.node.addChild(t),a==e-1)break;var r=c(this.barPrefab);this.node.addChild(r)}},i.setGamesPlayedData=function(e){for(var a=0;a<e;a++){var t="counter_"+a,r=this.node.getChildByName(t).getComponent("GamePlayedIndicator");a<=e-2?r.setGamePlayedIndicatorEnabled(d.WON):r.setGamePlayedIndicatorEnabled(JSON.parse(s.localStorage.getItem("currentGameState")))}},a}(u)).prototype,"indicatorsPrefab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=a(m.prototype,"barPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=m))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/Constant.ts",["cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy,n=t._decorator}],execute:function(){t({CardType:void 0,GameState:void 0,PlayerType:void 0,PlayerWinningState:void 0}),e._RF.push({},"967e6vQgoVNRKcADz8Cb/fY","Constant",void 0);var a,i,o,r;n.ccclass,n.property;!function(t){t[t.Spade=0]="Spade",t[t.Heart=1]="Heart",t[t.Club=2]="Club",t[t.Diamond=3]="Diamond"}(a||(a=t("CardType",{}))),function(t){t[t.PLAYER=0]="PLAYER",t[t.DEALER=1]="DEALER"}(i||(i=t("PlayerType",{}))),function(t){t[t.PENDING=0]="PENDING",t[t.WON=1]="WON",t[t.LOST=2]="LOST"}(o||(o=t("GameState",{}))),function(t){t[t.NOCARDSLEFT=0]="NOCARDSLEFT",t[t.LOST=1]="LOST",t[t.WON=2]="WON"}(r||(r=t("PlayerWinningState",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/Common.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t("collectComponent",(function(t,e,n){if(n)return t.getChildByName(n).getComponent(e);return t.getComponent(e)})),e._RF.push({},"cc33afifSpKU4lg+xAHdUQq","Common",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlay.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constant.ts"],(function(e){"use strict";var t,a,r,o,l,n,i,s,c,g,S,m,u,p,d,h,y,f,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,l=e.defineProperty},function(e){n=e.cclegacy,i=e._decorator,s=e.Node,c=e.JsonAsset,g=e.sys,S=e.Animation,m=e.Button,u=e.Sprite,p=e.LabelOutlineComponent,d=e.Color,h=e.director,y=e.Component},function(e){f=e.GameState,I=e.PlayerWinningState}],execute:function(){var O,N,P,b,v,G,J,D,C,w,L,W,U,k,H,B,T,z,F,E,x,_,A,R,j;n._RF.push({},"cfbb2ubRShEW74wNkbsj8mL","GamePlay",void 0);var M=i.ccclass,q=i.property;e("GamePlay",(O=M("GamePlay"),N=q({type:s}),P=q({type:s}),b=q({type:s}),v=q({type:s}),G=q({type:s}),J=q({type:s}),D=q({type:s}),C=q({type:c}),w=q({type:s}),L=q(s),W=q({type:s}),O((H=t((k=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n))||this,r(o(t),"stand",H,o(t)),r(o(t),"endGame",B,o(t)),r(o(t),"congratsPopUp",T,o(t)),r(o(t),"noCardsLeftPopUp",z,o(t)),r(o(t),"dealerWonPopUp",F,o(t)),r(o(t),"playerWonPopUp",E,o(t)),r(o(t),"undoHit",x,o(t)),r(o(t),"gamePlayJSON",_,o(t)),r(o(t),"cardLayout",A,o(t)),l(o(t),"noOfGames",7),r(o(t),"gamePlayedBar",R,o(t)),r(o(t),"LostPopup",j,o(t)),l(o(t),"flag",!1),l(o(t),"undoScheduler",void 0),l(o(t),"standScheduler",void 0),t}a(t,e);var n=t.prototype;return n.start=function(){var e=!1;if(this.checkGameWon(),JSON.parse(g.localStorage.getItem("gameOver"))){var t=JSON.parse(g.localStorage.getItem("currentDay")),a=JSON.parse(g.localStorage.getItem("currentGame")),r=JSON.parse(g.localStorage.getItem("gameWon")),o=JSON.parse(g.localStorage.getItem("playerStatistics")),l=JSON.parse(g.localStorage.getItem("handsData")),n=JSON.parse(g.localStorage.getItem("currentDate"));a<7&&!r?(a++,g.localStorage.clear(),g.localStorage.setItem("playerStatistics",JSON.stringify(o)),g.localStorage.setItem("currentGame",JSON.stringify(a)),g.localStorage.setItem("currentDay",JSON.stringify(t)),g.localStorage.setItem("handsData",JSON.stringify(l)),g.localStorage.setItem("currentDate",n)):(g.localStorage.setItem("flippedCards","[[]]"),g.localStorage.setItem("dealerCards","[[]]"),g.localStorage.setItem("totalFlippedCards","0"),g.localStorage.setItem("clickableCards","0"),g.localStorage.setItem("currentHand","0"))}var i=this.undoHit.getComponent(S),s=this.stand.getComponent(S);this.undoScheduler=function(){i.play(i.clips[0].name)},this.standScheduler=function(){s.play(s.clips[0].name)},this.setStandScheduler(!0),this.setUndoHitScheduler(!0),this.setLocalStorage();var c=JSON.parse(g.localStorage.getItem("currentHand"));JSON.parse(g.localStorage.getItem("Stand"))&&(this.stand.getComponent(m).enabled=!1,this.stand.getComponent(u).grayscale=!0,this.stand.getChildByName("Label").getComponent(p).color=new d(125,125,125,255),this.setStandScheduler(!1),e=!0),(1==e||JSON.parse(g.localStorage.getItem("flippedCards"))[c].length<3)&&(this.setUndoHitScheduler(!1),this.undoHit.getComponent(m).enabled=!1,this.undoHit.getComponent(u).grayscale=!0,this.undoHit.getChildByName("LabelWithBrowOutLine").getComponent(p).color=new d(125,125,125,255)),this.setUpBottomBarUI()},n.checkGameWon=function(){var e=this;this.scheduleOnce((function(){JSON.parse(g.localStorage.getItem("gameWon"))?(e.congratsPopUp.active=!0,e.endGame.active=!0):JSON.parse(g.localStorage.getItem("currentGame"))>=7&&(e.LostPopup.active=!0,e.endGame.active=!0)}),1)},n.setCurrentDay=function(){var e=new Date("04/19/2022"),t=new Date((new Date).toDateString()),a=(t.getTime()-e.getTime())/864e5;g.localStorage.setItem("currentDate",JSON.stringify(t.valueOf())),g.localStorage.setItem("currentDay",JSON.stringify(1+a))},n.setLocalStorage=function(){!g.localStorage.getItem("currentGameState")&&g.localStorage.setItem("currentGameState",JSON.stringify(f.PENDING)),!g.localStorage.getItem("currentDate")&&this.setCurrentDay(),!g.localStorage.getItem("flippedCards")&&g.localStorage.setItem("flippedCards","[[]]"),!g.localStorage.getItem("gameOver")&&g.localStorage.setItem("gameOver","false"),!g.localStorage.getItem("Stand")&&g.localStorage.setItem("Stand","false"),!g.localStorage.getItem("dealerCards")&&g.localStorage.setItem("dealerCards","[[]]");var e=JSON.parse(g.localStorage.getItem("flippedCards")).length-1;!g.localStorage.getItem("currentHand")&&g.localStorage.setItem("currentHand",e+""),!g.localStorage.getItem("clickableCards")&&g.localStorage.setItem("clickableCards","0"),!g.localStorage.getItem("totalFlippedCards")&&g.localStorage.setItem("totalFlippedCards","0"),!g.localStorage.getItem("currentGame")&&g.localStorage.setItem("currentGame","1"),!g.localStorage.getItem("gameWon")&&g.localStorage.setItem("gameWon","false"),!g.localStorage.getItem("handsData")&&g.localStorage.setItem("handsData","[]"),this.setUpPlayerStatistics()},n.setUpPlayerStatistics=function(){!g.localStorage.getItem("playerStatistics")&&g.localStorage.setItem("playerStatistics",JSON.stringify({currentStreak:0,maxStreak:0,gamesPlayed:0,gamesWon:0,winPercentage:0,guesses:{1:0,2:0,3:0,4:0,5:0,6:0,7:0,fail:0}}))},n.changeGameStatistics=function(e){var t=JSON.parse(g.localStorage.getItem("playerStatistics")),a=JSON.parse(g.localStorage.getItem("currentGame"));t.gamesPlayed++,e==I.WON?(t.gamesWon++,t.currentStreak++,t.currentStreak>t.maxStreak&&(t.maxStreak=t.currentStreak),t.guesses[a+""]++):(t.currentStreak=0,t.guesses.fail++),t.winPercentage=Number((t.gamesWon/t.gamesPlayed*100).toFixed(2))},n.setUpBottomBarUI=function(){var e=this.gamePlayedBar.getComponent("GamePlayedBar"),t=JSON.parse(g.localStorage.getItem("currentHand"));e.setInitialGameBarIndicator(this.noOfGames),e.setGamesPlayedData(t+1)},n.setUndoHitScheduler=function(e){e?this.schedule(this.undoScheduler,5):this.unschedule(this.undoScheduler)},n.setStandScheduler=function(e){e?this.schedule(this.standScheduler,5):this.unschedule(this.standScheduler)},n.resetGame=function(){var e=this;this.scheduleOnce((function(){var t=!0,a=e.gamePlayedBar.getComponent("GamePlayedBar"),r=JSON.parse(g.localStorage.getItem("currentHand")),o=JSON.parse(g.localStorage.getItem("flippedCards")),l=JSON.parse(g.localStorage.getItem("dealerCards")),n=0,i=0;o[r].forEach((function(e){n+=Number(e.num)})),l[r].forEach((function(e){i+=Number(e.num)})),n>=i?(g.localStorage.setItem("currentGameState",JSON.stringify(f.WON)),a.setGamesPlayedData(r+1),++r>=6?(g.localStorage.setItem("gameWon","true"),e.gameOver(I.WON),t=!1):(e.playerWonPopUp.active=!0,e.endGame.active=!0)):(g.localStorage.setItem("currentGameState",JSON.stringify(f.LOST)),a.setGamesPlayedData(r+1),e.gameOver(I.LOST),t=!1),o.push([]),l.push([]),g.localStorage.setItem("flippedCards",JSON.stringify(o)),g.localStorage.setItem("dealerCards",JSON.stringify(l)),g.localStorage.setItem("currentHand",r),t&&e.scheduleOnce((function(){g.localStorage.setItem("currentGameState",JSON.stringify(f.PENDING)),g.localStorage.setItem("Stand","false"),h.loadScene("GamePlay")}),3)}),2)},n.gameOver=function(e){var t=this;g.localStorage.setItem("Stand","true"),g.localStorage.setItem("gameOver","true");var a=this.gamePlayedBar.getComponent("GamePlayedBar"),r=JSON.parse(g.localStorage.getItem("currentHand")),o=JSON.parse(g.localStorage.getItem("currentHand")),l=JSON.parse(g.localStorage.getItem("handsData"));switch(l.push(r),g.localStorage.setItem("handsData",JSON.stringify(l)),e){case I.NOCARDSLEFT:g.localStorage.setItem("currentGameState",JSON.stringify(f.LOST)),a.setGamesPlayedData(r+1),this.scheduleOnce((function(){t.noCardsLeftPopUp.active=!0,t.endGame.active=!0,t.scheduleOnce(t.reloadScene,3)}),2);break;case I.LOST:o>=7&&this.changeGameStatistics(I.LOST),this.dealerWonPopUp.active=!0,this.endGame.active=!0,!(o<7)||this.scheduleOnce(this.reloadScene,3);break;case I.WON:this.changeGameStatistics(I.WON),this.congratsPopUp.active=!0,this.endGame.active=!0}},n.reloadScene=function(){g.localStorage.setItem("currentGameState",JSON.stringify(f.PENDING)),h.loadScene("GamePlay")},n.checkForNewDate=function(){var e=new Date(JSON.parse(g.localStorage.getItem("currentDate"))),t=new Date;if(e.toLocaleDateString()!=t.toLocaleDateString()){var a=(new Date(t.toDateString()).getTime()-new Date(e.toDateString()).getTime())/864e5;this.resetToNewGame(a)}},n.resetToNewGame=function(e){var t=JSON.parse(g.localStorage.getItem("playerStatistics")),a=JSON.parse(g.localStorage.getItem("currentDay"));a+=e,!JSON.parse(g.localStorage.getItem("gameWon"))&&(t.currentStreak=0),g.localStorage.clear(),g.localStorage.setItem("currentDate",JSON.stringify(new Date((new Date).toDateString()).getTime())),g.localStorage.setItem("playerStatistics",JSON.stringify(t)),g.localStorage.setItem("currentDay",JSON.stringify(a)),h.loadScene("GamePlay")},n.update=function(){this.checkForNewDate(),this.LostPopup.active||this.LostPopup.active||this.playerWonPopUp.active||this.dealerWonPopUp.active||this.noCardsLeftPopUp.active||(this.endGame.active=!1)},t}(y)).prototype,"stand",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(k.prototype,"endGame",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(k.prototype,"congratsPopUp",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(k.prototype,"noCardsLeftPopUp",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(k.prototype,"dealerWonPopUp",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(k.prototype,"playerWonPopUp",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(k.prototype,"undoHit",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(k.prototype,"gamePlayJSON",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(k.prototype,"cardLayout",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(k.prototype,"gamePlayedBar",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(k.prototype,"LostPopup",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=k))||U));n._RF.pop()}}}));

System.register("chunks:///_virtual/Card.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constant.ts"],(function(e){"use strict";var a,t,r,i,c,l,n,o,s,d,p,u,h,m,g,S,f;return{setters:[function(e){a=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,c=e.defineProperty},function(e){l=e.cclegacy,n=e._decorator,o=e.JsonAsset,s=e.Sprite,d=e.Label,p=e.SpriteFrame,u=e.Color,h=e.sys,m=e.tween,g=e.Vec3,S=e.Component},function(e){f=e.CardType}],execute:function(){var C,y,N,b,F,I,v,O,k,D,J,w,T,_,B;l._RF.push({},"dcd9cSYnxRDfYXFMTN9a/pU","Card",void 0);var H=n.ccclass,z=n.property;e("Card",(C=H("Card"),y=z({type:o}),N=z(s),b=z(d),F=z({type:p,visible:function(){return this.cardFrames.length=4,!0},tooltip:"Please follow CardType enum available in Constant file before assigning cards frame"}),I=z({type:p}),v=z({type:p}),C((D=a((k=function(e){function a(){for(var a,t=arguments.length,l=new Array(t),n=0;n<t;n++)l[n]=arguments[n];return a=e.call.apply(e,[this].concat(l))||this,r(i(a),"CardsData",D,i(a)),r(i(a),"card",J,i(a)),r(i(a),"cardNumber",w,i(a)),r(i(a),"cardFrames",T,i(a)),r(i(a),"darkCard",_,i(a)),r(i(a),"lightCard",B,i(a)),c(i(a),"ctype",f.Club),c(i(a),"cardNum",1),c(i(a),"redColor",new u(200,7,19,255)),c(i(a),"blackColor",new u(47,48,51,255)),c(i(a),"canFlip",!0),c(i(a),"cardScale",1),c(i(a),"_playerScriptDelecate",void 0),c(i(a),"_dealerScriptDelecate",void 0),a}t(a,e);var l=a.prototype;return l.start=function(){this.cardScale=this.node.getScale().x},l.setDelegate=function(e,a){this._playerScriptDelecate=e,this._dealerScriptDelecate=a},l.updateCardType=function(e){this.setCardData(e),this.validateCard();var a=this.cardNum>1?this.cardNum.toString():"A";this.cardNumber.string=a,this.cardNumber.color=this.redColor,this.ctype!=f.Spade&&this.ctype!=f.Club||(this.cardNumber.color=this.blackColor),this.cardNumber.node.active=!0,this.card.spriteFrame=this.cardFrames[this.ctype]},l.validateCard=function(){(this.cardNum>9||this.cardNum<1)&&(this.cardNum=this.cardNum>9?9:1),(this.ctype>3||this.ctype<0)&&(this.ctype=this.ctype>3?3:0)},l.setCardData=function(e){this.ctype=e.type,this.cardNum=e.num,this.canFlip=e.isClickable},l.buttonCB=function(e,a){this.flipTheCard(a,.36,!0)},l.flipTheCard=function(e,a,t){var r=this,i=JSON.parse(h.localStorage.getItem("currentDay")),c=this.CardsData.json["Day_"+i],l=JSON.parse(h.localStorage.getItem("currentHand")),n=c.find((function(e){if(Number(e.type)==Number(r.ctype)&&Number(e.num)==Number(r.cardNum))return!0}));n.index=this.node.name,n.currentHand=l,t&&e?this.cardClicked(t,n,e,a):this.onRandomCardSelection(t,n,e,a)},l.setLocalStorageItems=function(e,a,t,r){h.localStorage.setItem("flippedCards",JSON.stringify(e)),h.localStorage.setItem("dealerCards",JSON.stringify(a)),h.localStorage.setItem("totalFlippedCards",JSON.stringify(t)),h.localStorage.setItem("clickableCards",JSON.stringify(r))},l.cardClicked=function(e,a,t,r){var i=JSON.parse(h.localStorage.getItem("flippedCards")),c=JSON.parse(h.localStorage.getItem("currentHand")),l=JSON.parse(h.localStorage.getItem("totalFlippedCards")),n=JSON.parse(h.localStorage.getItem("Stand")),o=JSON.parse(h.localStorage.getItem("clickableCards")),s=JSON.parse(h.localStorage.getItem("dealerCards"));this.canFlip&&i[c].length<4&&!n&&(i[c].push(a),o++,l++,3==i[c].length&&this._playerScriptDelecate.enableUndoHit(),this.setLocalStorageItems(i,s,l,o),this.flipCardToBackFace(t,r,e))},l.onRandomCardSelection=function(e,a,t,r){var i,c,l=JSON.parse(h.localStorage.getItem("flippedCards")),n=JSON.parse(h.localStorage.getItem("dealerCards")),o=JSON.parse(h.localStorage.getItem("currentHand")),s=JSON.parse(h.localStorage.getItem("totalFlippedCards")),d=(JSON.parse(h.localStorage.getItem("Stand")),JSON.parse(h.localStorage.getItem("clickableCards")));i=this.checkInFlippedCards(a),c=this.checkInDealerCards(a),i||c||(Number(a.num)<8&&d++,s++,e?l[o].push(a):n[o].push(a),this.setLocalStorageItems(l,n,s,d),this.flipCardToBackFace(t,r,e))},l.checkInFlippedCards=function(e){var a=JSON.parse(h.localStorage.getItem("flippedCards")),t=!1;return a.forEach((function(a){a.forEach((function(a){a.num==e.num&&a.type==e.type&&(t=!0)}))})),t},l.checkInDealerCards=function(e){var a=JSON.parse(h.localStorage.getItem("dealerCards")),t=!1;return a.forEach((function(a){a.forEach((function(a){a.num==e.num&&a.type==e.type&&(t=!0)}))})),t},l.showCardBackFace=function(e){void 0===e&&(e=!1),this.cardNumber.node.active=!1,this.card.spriteFrame=e?this.lightCard:this.darkCard},l.showCardFrontFace=function(e){this.card.spriteFrame=this.cardFrames[e.type],this.cardNumber.node.active=!0},l.flipCardToBackFace=function(e,a,t){var r=this,i=a;this.canFlip=!1;var c=.9*this.cardScale,l=JSON.parse(h.localStorage.getItem("flippedCards")),n=JSON.parse(h.localStorage.getItem("dealerCards")),o=JSON.parse(h.localStorage.getItem("currentHand"));m(this.node).to(i,{scale:new g(0,this.cardScale,this.cardScale)}).call((function(){r.showCardBackFace(!1)})).to(i,{scale:new g(c,c,c)}).call((function(){t?r._playerScriptDelecate.flipCardToOriginal(l[o].length-1+"",r.cardFrames[r.ctype],r.cardNumber.string,r.cardNumber.color,i,t):r._dealerScriptDelecate.flipCardToOriginal(n[o].length-1+"",r.cardFrames[r.ctype],r.cardNumber.string,r.cardNumber.color,i,t)})).start()},l.flipCardToOriginal=function(e,a){var t=this,r=.36;this.canFlip=!1,m(this.node).to(r,{scale:new g(0,this.cardScale,this.cardScale)}).call((function(){t.showCardFrontFace(e)})).to(r,{scale:new g(this.cardScale,this.cardScale,this.cardScale)}).call((function(){t._playerScriptDelecate.flipCardToBackFace(a+"",t.lightCard,r)})).start(),this.canFlip=!0},l.setCardFlip=function(){this.canFlip=!1},l.alreadyFlipped=function(e,a,t){var r=this,i=h.localStorage.getItem("currentHand");this.cardNum=e.num,this.ctype=e.type;var c=this.cardNum>1?this.cardNum.toString():"A";this.cardNumber.string=c,this.cardNumber.node.active=!0;var l=this.redColor;e.type!=f.Spade&&e.type!=f.Club||(l=this.blackColor),this.cardNumber.color=l;var n=.36,o=.9*this.node.getScale().x;m(this.node).to(n,{scale:new g(0,this.cardScale,this.cardScale)}).call((function(){r.showCardBackFace(!1)})).to(n,{scale:new g(o,o,o)}).start(),e.currentHand==i&&(t?this._playerScriptDelecate.flipCardToOriginal(a,this.cardFrames[e.type],1==e.num?"A":e.num,l,n,t):this._dealerScriptDelecate.flipCardToOriginal(a,this.cardFrames[e.type],1==e.num?"A":e.num,l,n,t))},a}(S)).prototype,"CardsData",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=a(k.prototype,"card",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=a(k.prototype,"cardNumber",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=a(k.prototype,"cardFrames",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=a(k.prototype,"darkCard",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=a(k.prototype,"lightCard",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=k))||O));l._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerBase.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constant.ts"],(function(e){"use strict";var t,a,r,i,o,n,s,l,c,d,u,h,p,C,m,g,y,f,b,w,v,B;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.defineProperty},function(e){n=e.cclegacy,s=e._decorator,l=e.Prefab,c=e.Node,d=e.Enum,u=e.UITransform,h=e.instantiate,p=e.Sprite,C=e.Label,m=e.tween,g=e.Vec3,y=e.Button,f=e.LabelOutlineComponent,b=e.Color,w=e.sys,v=e.Component},function(e){B=e.PlayerType}],execute:function(){var P,N,S,F,H,k,L,z,T,O,D,E,I,U,_;n._RF.push({},"e9c5dAsjm1Nx5WOkokTzDqt","PlayerBase",void 0);var A=s.ccclass,R=s.property;e("PlayerBase",(P=A("PlayerBase"),N=R(l),S=R({type:c}),F=R({type:c}),H=R(c),k=R({type:c}),L=R({type:d(B),visible:function(){return!0}}),P((O=t((T=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,r(i(t),"cardPrefab",O,i(t)),r(i(t),"undoHit",D,i(t)),r(i(t),"gamePlay",E,i(t)),r(i(t),"base",I,i(t)),r(i(t),"score",U,i(t)),r(i(t),"pType",_,i(t)),o(i(t),"dealerCardsCount",3),o(i(t),"playerCardsCount",4),o(i(t),"ratio",0),t}a(t,e);var n=t.prototype;return n.start=function(){var e=this.node.getComponent(u).width,t=this.cardPrefab.data.width;this.dealerCardsCount>this.playerCardsCount?this.ratio=(.9*e-5*this.dealerCardsCount)/(this.dealerCardsCount*t):this.ratio=(.9*e-5*this.playerCardsCount)/(this.playerCardsCount*t),this.pType==B.PLAYER?this.addPlayerCards():this.addDealerCards()},n.addPlayerCards=function(){for(var e=0;e<this.playerCardsCount;e++){var t=h(this.cardPrefab);this.base.addChild(t),t.name=e+"",console.log(t.getScale()),t.setScale(.95*this.ratio,.95*this.ratio,1);var a=t.getComponent("Card");a.setCardFlip(),e<2?a.showCardBackFace(!1):a.showCardBackFace(!0)}},n.addDealerCards=function(){for(var e=0;e<this.dealerCardsCount;e++){var t=h(this.cardPrefab);this.base.addChild(t),t.name=e+"",t.setScale(.95*this.ratio,.95*this.ratio,1);var a=t.getComponent("Card");a.setCardFlip(),e<1?a.showCardBackFace(!1):a.showCardBackFace(!0)}},n.showCardFrontFace=function(e,t,a,r){var i=this.base.getChildByName(e).getChildByName("Sprite");i.getComponent(p).spriteFrame=t;var o=i.getChildByName("CardNumber");o.getComponent(C).string=a,o.getComponent(C).color=r,o.active=!0},n.flipCardToOriginal=function(e,t,a,r,i,o){var n=this,s=this.base.getChildByName(e),l=i;m(s).to(l,{scale:new g(0,this.ratio,this.ratio)}).call((function(){n.showCardFrontFace(e,t,a,r)})).to(l,{scale:new g(this.ratio,this.ratio,this.ratio)}).start(),this.updateScore(o)},n.showCardBackFace=function(e,t){var a=this.base.getChildByName(e).getChildByName("Sprite");a.getComponent(p).spriteFrame=t,a.getChildByName("CardNumber").active=!1},n.flipCardToBackFace=function(e,t,a){var r=this,i=this.base.getChildByName(e),o=a;m(i).to(o,{scale:new g(0,this.ratio,this.ratio)}).call((function(){r.showCardBackFace(e,t)})).to(o,{scale:new g(.95*this.ratio,.95*this.ratio,.95*this.ratio)}).start(),this.updateScore(!0)},n.enableUndoHit=function(){var e=this.gamePlay.getComponent("GamePlay");this.undoHit.getComponent(y).enabled=!0,this.undoHit.getComponent(p).grayscale=!1,e.setUndoHitScheduler(!0),this.undoHit.getChildByName("LabelWithBrowOutLine").getComponent(f).color=new b(166,100,25,255)},n.disableUndoHit=function(){var e=this.gamePlay.getComponent("GamePlay");this.undoHit.getComponent(y).enabled=!1,this.undoHit.getComponent(p).grayscale=!0,e.setUndoHitScheduler(!1),this.undoHit.getChildByName("LabelWithBrowOutLine").getComponent(f).color=new b(125,125,125,255)},n.updateScore=function(e){var t=JSON.parse(w.localStorage.getItem("flippedCards")),a=JSON.parse(w.localStorage.getItem("dealerCards")),r=JSON.parse(w.localStorage.getItem("currentHand")),i=0;e?t[r].forEach((function(e){i+=Number(e.num)})):a[r].forEach((function(e){i+=Number(e.num)})),this.score.getComponent(C).string=i.toString()},t}(v)).prototype,"cardPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(T.prototype,"undoHit",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(T.prototype,"gamePlay",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(T.prototype,"base",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(T.prototype,"score",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(T.prototype,"pType",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.PLAYER}}),z=T))||z));n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Constant.ts","./CardLayout.ts","./APAspectRatioFitter.ts","./Lost.ts","./GameManager.ts","./Common.ts","./Congrats.ts","./GamePlayedIndicator.ts","./GamePlayedBar.ts","./GamePlay.ts","./Card.ts","./PlayerBase.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});